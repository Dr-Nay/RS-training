<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Renaissance Solutions - Executive Decision Architecture</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap');
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Inter', sans-serif;
            background: linear-gradient(135deg, #0a0e1a 0%, #1a2847 50%, #0a0e1a 100%);
            color: #ffffff;
            min-height: 100vh;
            overflow-x: hidden;
            position: relative;
        }
        
        /* Quantum Field Background Animation */
        .quantum-field {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            pointer-events: none;
            z-index: 1;
            background: radial-gradient(circle at 20% 20%, rgba(0, 212, 255, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 80% 80%, rgba(139, 92, 246, 0.1) 0%, transparent 50%),
                        radial-gradient(circle at 40% 70%, rgba(251, 191, 36, 0.05) 0%, transparent 50%);
            animation: quantumPulse 8s ease-in-out infinite alternate;
        }
        
        @keyframes quantumPulse {
            0% { opacity: 0.3; }
            100% { opacity: 0.7; }
        }
        
        /* Main Container */
        .container {
            position: relative;
            z-index: 10;
            max-width: 1600px;
            margin: 0 auto;
            padding: 20px;
        }
        
        /* Header */
        .header {
            text-align: center;
            margin-bottom: 30px;
            padding: 40px 20px;
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            border-radius: 20px;
            border: 1px solid rgba(0, 212, 255, 0.3);
            backdrop-filter: blur(20px);
            position: relative;
            overflow: hidden;
        }
        
        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(0, 212, 255, 0.1), transparent);
            animation: hologramScan 4s ease-in-out infinite;
        }
        
        @keyframes hologramScan {
            0% { left: -100%; }
            100% { left: 100%; }
        }
        
        .header h1 {
            font-size: 2.5em;
            font-weight: 700;
            margin-bottom: 10px;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
            background: linear-gradient(135deg, #00d4ff, #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .header .subtitle {
            font-size: 1.2em;
            color: rgba(255, 255, 255, 0.8);
            margin-bottom: 20px;
        }
        
        .header .tagline {
            font-size: 1.1em;
            color: #fbbf24;
            font-weight: 500;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }
        
        /* Control Panel */
        .control-panel {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding: 20px;
            background: rgba(26, 40, 71, 0.4);
            border-radius: 15px;
            border: 1px solid rgba(0, 212, 255, 0.2);
            backdrop-filter: blur(10px);
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .timer-display {
            font-size: 1.5em;
            font-weight: 600;
            color: #00d4ff;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }
        
        .progress-section {
            flex: 1;
            margin: 0 20px;
            min-width: 300px;
        }
        
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 10px;
            overflow: hidden;
            margin-bottom: 5px;
        }
        
        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #00d4ff, #8b5cf6);
            width: 0%;
            transition: width 0.5s ease;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.5);
        }
        
        .progress-text {
            font-size: 0.9em;
            color: rgba(255, 255, 255, 0.7);
        }
        
        .score-display {
            font-size: 1.2em;
            font-weight: 600;
            color: #fbbf24;
            text-shadow: 0 0 10px rgba(251, 191, 36, 0.3);
        }
        
        /* Main Training Grid */
        .training-grid {
            display: grid;
            grid-template-columns: 1fr 400px;
            gap: 30px;
            margin-bottom: 30px;
        }
        
        /* Scenario Panel */
        .scenario-panel {
            background: linear-gradient(135deg, rgba(0, 212, 255, 0.05) 0%, rgba(139, 92, 246, 0.05) 100%);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(0, 212, 255, 0.3);
            backdrop-filter: blur(15px);
            position: relative;
            overflow: hidden;
        }
        
        .scenario-title {
            font-size: 1.4em;
            font-weight: 600;
            color: #00d4ff;
            margin-bottom: 20px;
            text-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        
        .scenario-content {
            margin-bottom: 25px;
        }
        
        .scenario-text {
            font-size: 1.1em;
            line-height: 1.6;
            color: rgba(255, 255, 255, 0.9);
            margin-bottom: 20px;
        }
        
        /* AI Assistant */
        .ai-assistant {
            background: rgba(139, 92, 246, 0.1);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-bottom: 20px;
        }
        
        .ai-assistant h4 {
            color: #8b5cf6;
            margin-bottom: 10px;
            font-size: 1em;
        }
        
        .ai-query-input {
            width: 100%;
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(139, 92, 246, 0.3);
            border-radius: 5px;
            padding: 10px;
            color: white;
            margin-bottom: 10px;
            font-size: 0.9em;
        }
        
        .ai-response {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 5px;
            padding: 10px;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.9em;
            line-height: 1.4;
            min-height: 60px;
            display: flex;
            align-items: center;
        }
        
        .ask-ai-btn {
            background: linear-gradient(135deg, #8b5cf6, #6d28d9);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 5px;
            font-size: 0.9em;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .ask-ai-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(139, 92, 246, 0.4);
        }
        
        /* Decision Options */
        .decision-options {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .decision-option {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(0, 212, 255, 0.3);
            border-radius: 10px;
            padding: 20px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }
        
        .decision-option:hover {
            border-color: #00d4ff;
            background: rgba(0, 212, 255, 0.1);
            transform: translateY(-2px);
            box-shadow: 0 10px 30px rgba(0, 212, 255, 0.2);
        }
        
        .decision-option.selected {
            border-color: #fbbf24;
            background: rgba(251, 191, 36, 0.1);
            box-shadow: 0 0 20px rgba(251, 191, 36, 0.3);
        }
        
        .decision-option.correct {
            border-color: #10b981;
            background: rgba(16, 185, 129, 0.1);
            box-shadow: 0 0 20px rgba(16, 185, 129, 0.3);
        }
        
        .decision-option.incorrect {
            border-color: #ef4444;
            background: rgba(239, 68, 68, 0.1);
            box-shadow: 0 0 20px rgba(239, 68, 68, 0.3);
        }
        
        /* Right Sidebar */
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        /* Mind Palace Panel */
        .mind-palace-panel {
            background: linear-gradient(135deg, rgba(139, 92, 246, 0.05) 0%, rgba(251, 191, 36, 0.05) 100%);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(139, 92, 246, 0.3);
            backdrop-filter: blur(15px);
        }
        
        .mind-palace-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #8b5cf6;
            margin-bottom: 15px;
            text-shadow: 0 0 10px rgba(139, 92, 246, 0.3);
        }
        
        .cognitive-skill {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 10px;
            border: 1px solid rgba(139, 92, 246, 0.2);
            transition: all 0.3s ease;
        }
        
        .cognitive-skill:hover {
            background: rgba(139, 92, 246, 0.1);
            border-color: #8b5cf6;
        }
        
        .skill-name {
            font-weight: 600;
            color: #fbbf24;
            margin-bottom: 5px;
            font-size: 0.9em;
        }
        
        .skill-level {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .skill-bar {
            flex: 1;
            height: 4px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 2px;
            overflow: hidden;
        }
        
        .skill-fill {
            height: 100%;
            background: linear-gradient(90deg, #8b5cf6, #fbbf24);
            transition: width 0.5s ease;
        }
        
        .skill-percentage {
            color: rgba(255, 255, 255, 0.7);
            font-size: 0.8em;
            min-width: 35px;
        }
        
        /* Bias Detector */
        .bias-detector {
            background: rgba(239, 68, 68, 0.1);
            border: 1px solid rgba(239, 68, 68, 0.3);
            border-radius: 10px;
            padding: 15px;
            margin-top: 15px;
            animation: pulseWarning 2s ease-in-out infinite;
        }
        
        @keyframes pulseWarning {
            0%, 100% { opacity: 0.7; }
            50% { opacity: 1; }
        }
        
        .bias-title {
            font-weight: 600;
            color: #ef4444;
            margin-bottom: 8px;
            font-size: 0.9em;
        }
        
        .bias-description {
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.8em;
            line-height: 1.4;
        }
        
        /* Training Progress */
        .training-progress {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.05) 0%, rgba(0, 212, 255, 0.05) 100%);
            border-radius: 15px;
            padding: 20px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            backdrop-filter: blur(15px);
        }
        
        .progress-title {
            font-size: 1.2em;
            font-weight: 600;
            color: #fbbf24;
            margin-bottom: 15px;
        }
        
        .stage-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 15px;
        }
        
        .stage {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255, 255, 255, 0.2);
            transition: all 0.3s ease;
        }
        
        .stage.completed {
            background: #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.5);
        }
        
        .stage.current {
            background: #fbbf24;
            box-shadow: 0 0 10px rgba(251, 191, 36, 0.5);
            animation: pulse 1.5s ease-in-out infinite;
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.2); }
        }
        
        .stage-labels {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 5px;
            font-size: 0.7em;
            color: rgba(255, 255, 255, 0.6);
            text-align: center;
        }
        
        /* Action Buttons */
        .action-buttons {
            display: flex;
            justify-content: center;
            gap: 20px;
            margin-top: 30px;
            flex-wrap: wrap;
        }
        
        .btn {
            background: linear-gradient(135deg, #00d4ff, #8b5cf6);
            border: none;
            color: white;
            padding: 15px 30px;
            border-radius: 10px;
            font-size: 1.1em;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-transform: uppercase;
            letter-spacing: 1px;
            position: relative;
            overflow: hidden;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 15px 35px rgba(0, 212, 255, 0.4);
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
            transform: none;
            box-shadow: none;
        }
        
        .btn-secondary {
            background: linear-gradient(135deg, #fbbf24, #f59e0b);
        }
        
        .btn-secondary:hover {
            box-shadow: 0 15px 35px rgba(251, 191, 36, 0.4);
        }
        
        /* Results Panel */
        .results-panel {
            background: linear-gradient(135deg, rgba(16, 185, 129, 0.1) 0%, rgba(0, 212, 255, 0.1) 100%);
            border-radius: 20px;
            padding: 30px;
            border: 1px solid rgba(16, 185, 129, 0.3);
            backdrop-filter: blur(15px);
            margin-top: 30px;
            display: none;
        }
        
        .results-title {
            font-size: 1.8em;
            font-weight: 600;
            color: #10b981;
            margin-bottom: 20px;
            text-align: center;
            text-shadow: 0 0 10px rgba(16, 185, 129, 0.3);
        }
        
        .results-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .result-card {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(16, 185, 129, 0.2);
            text-align: center;
        }
        
        .result-card h3 {
            color: #fbbf24;
            margin-bottom: 15px;
            font-size: 1.2em;
        }
        
        .result-card .big-number {
            font-size: 2.5em;
            font-weight: 700;
            color: #00d4ff;
            margin: 15px 0;
            text-shadow: 0 0 20px rgba(0, 212, 255, 0.5);
        }
        
        .result-card p {
            color: rgba(255, 255, 255, 0.9);
            line-height: 1.5;
            margin-bottom: 10px;
        }
        
        /* Save Panel */
        .save-panel {
            background: linear-gradient(135deg, rgba(251, 191, 36, 0.1) 0%, rgba(139, 92, 246, 0.1) 100%);
            border-radius: 15px;
            padding: 25px;
            border: 1px solid rgba(251, 191, 36, 0.3);
            backdrop-filter: blur(10px);
            margin-top: 30px;
            display: none;
        }
        
        .save-title {
            font-size: 1.3em;
            font-weight: 600;
            color: #fbbf24;
            margin-bottom: 15px;
        }
        
        .save-inputs {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-bottom: 20px;
        }
        
        .save-input {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 12px;
            color: white;
            font-size: 1em;
        }
        
        .save-input:focus {
            outline: none;
            border-color: #00d4ff;
            box-shadow: 0 0 10px rgba(0, 212, 255, 0.3);
        }
        
        /* Responsive Design */
        @media (max-width: 1200px) {
            .training-grid {
                grid-template-columns: 1fr;
            }
            
            .sidebar {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 20px;
            }
        }
        
        @media (max-width: 768px) {
            .sidebar {
                grid-template-columns: 1fr;
            }
            
            .control-panel {
                flex-direction: column;
                text-align: center;
            }
            
            .progress-section {
                margin: 15px 0;
                min-width: 100%;
            }
            
            .save-inputs {
                grid-template-columns: 1fr;
            }
            
            .action-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
        
        /* Hidden class */
        .hidden {
            display: none !important;
        }
    </style>
</head>
<body>
    <div class="quantum-field"></div>
    
    <div class="container">
        <div class="header">
            <div style="font-size: 1.5em; font-weight: 700; color: #00d4ff; margin-bottom: 15px; text-shadow: 0 0 15px rgba(0, 212, 255, 0.5);">
                <strong>RENAISSANSE SOLUTIONS</strong>
            </div>
            <h1>Executive Decision Architecture</h1>
            <p class="subtitle">Lesson 8: The Executive Mind Palace Training</p>
        </div>
        
        <div class="control-panel">
            <div class="timer-display">Time: <span id="timer">00:00</span></div>
            <div class="progress-section">
                <div class="progress-bar">
                    <div class="progress-fill" id="progressFill"></div>
                </div>
                <div class="progress-text" id="progressText">Cognitive Architecture Building: Stage 1 of 5</div>
            </div>
            <div class="score-display">Executive Score: <span id="score">0</span></div>
        </div>
        
        <div class="training-grid">
            <div class="scenario-panel">
                <h2 class="scenario-title" id="scenarioTitle">üïê Executive Time Machine</h2>
                <div class="scenario-content">
                    <div class="scenario-text" id="scenarioText">
                        Initializing your first executive decision scenario...
                    </div>
                    
                    <div class="ai-assistant">
                        <h4>ü§ñ AI Executive Assistant</h4>
                        <input type="text" class="ai-query-input" id="aiQuery" placeholder="Ask me anything about this scenario...">
                        <button class="ask-ai-btn" onclick="askAI()">Ask AI</button>
                        <div class="ai-response" id="aiResponse">
                            Ready to provide real-time strategic insights and data analysis...
                        </div>
                    </div>
                    
                    <div class="decision-options" id="decisionOptions">
                        <!-- Options will be populated by JavaScript -->
                    </div>
                </div>
            </div>
            
            <div class="sidebar">
                <div class="mind-palace-panel">
                    <h2 class="mind-palace-title">üß† Your Executive Mind Palace</h2>
                    <div id="cognitiveSkills">
                        <!-- Cognitive skills will be populated by JavaScript -->
                    </div>
                    <div class="bias-detector hidden" id="biasDetector">
                        <div class="bias-title">‚ö†Ô∏è Cognitive Bias Detected</div>
                        <div class="bias-description" id="biasDescription">
                            Your decision pattern shows potential bias influence.
                        </div>
                    </div>
                </div>
                
                <div class="training-progress">
                    <h3 class="progress-title">üéØ Cognitive Upgrade Progress</h3>
                    <div class="stage-indicator">
                        <div class="stage current" id="stage0"></div>
                        <div class="stage" id="stage1"></div>
                        <div class="stage" id="stage2"></div>
                        <div class="stage" id="stage3"></div>
                        <div class="stage" id="stage4"></div>
                    </div>
                    <div class="stage-labels">
                        <div>Pattern Recognition</div>
                        <div>Strategic Thinking</div>
                        <div>Bias Mastery</div>
                        <div>Systems View</div>
                        <div>Cognitive Mastery</div>
                    </div>
                    <div style="margin-top: 15px; font-size: 0.9em; color: rgba(255,255,255,0.8);">
                        <div id="currentStageDescription">Building pattern recognition through diverse decision scenarios...</div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="action-buttons">
            <button class="btn" id="nextScenario" onclick="nextScenario()" disabled>Continue Journey</button>
            <button class="btn btn-secondary hidden" id="showResults" onclick="showResults()">Generate Decision DNA</button>
            <button class="btn btn-secondary hidden" id="saveTraining" onclick="showSavePanel()">Save Training</button>
        </div>
        
        <div class="results-panel" id="resultsPanel">
            <h2 class="results-title">üß¨ Your Executive Decision DNA</h2>
            <div class="results-grid" id="resultsGrid">
                <!-- Results will be populated by JavaScript -->
            </div>
        </div>
        
        <div class="save-panel" id="savePanel">
            <h3 class="save-title">üíæ Save Training Session</h3>
            <div class="save-inputs">
                <input type="text" class="save-input" id="traineeNameInput" placeholder="Enter trainee name">
                <input type="url" class="save-input" id="trainingUrlInput" placeholder="Enter training platform URL">
            </div>
            <div class="action-buttons">
                <button class="btn" onclick="saveTraining()">Save to GitHub</button>
                <button class="btn btn-secondary" onclick="downloadReport()">Download Report</button>
            </div>
        </div>
    </div>
    
    <script>
        // Global variables
        let startTime = Date.now();
        let currentScenario = 0;
        let currentStage = 0;
        let totalScore = 0;
        let decisions = [];
        let biasPatterns = [];
        let cognitiveSkills = {
            patternRecognition: 20,
            strategicThinking: 15,
            biasMastery: 10,
            systemsThinking: 25,
            stakeholderAwareness: 30,
            riskAssessment: 20,
            innovationMindset: 15,
            ethicalReasoning: 35
        };
        
        // Comprehensive Executive Decision Scenarios (12 scenarios across cognitive domains)
        const trainingStages = [
            {
                name: "Pattern Recognition",
                description: "Building pattern recognition through diverse decision scenarios...",
                scenarios: [
                    {
                        title: "Market Disruption Pattern Analysis",
                        text: "Three competitors in your industry have been acquired by tech companies in the past 6 months. Stock prices initially dropped 15% but recovered to 40% gains within 12 months. A startup with AI technology is now approaching your board. Pattern recognition question: What's the most likely outcome?",
                        aiContext: {
                            industryData: "SaaS industry consolidation increased 340% in past 18 months",
                            marketMetrics: "Companies with AI integration show 23% higher growth rates",
                            competitorAnalysis: "Recent acquisitions valued at 8-12x revenue multiples"
                        },
                        options: [
                            { text: "Resist acquisition, maintain independence", type: "conservative", score: 40, bias: "status_quo" },
                            { text: "Enter acquisition discussions immediately", type: "reactive", score: 70, bias: "bandwagon_effect" },
                            { text: "Strategic evaluation with multiple options approach", type: "strategic", score: 90, bias: "none" }
                        ],
                        skills: ["patternRecognition", "strategicThinking", "riskAssessment"]
                    },
                    {
                        title: "Organizational Pattern Detection",
                        text: "Your company's top performers have been leaving at unusual rates (23% in Q3 vs. 8% historical average). Exit interviews cite 'growth opportunities' but Glassdoor reviews mention 'leadership changes.' HR suggests salary increases, but similar patterns occurred at competitor companies before major restructuring. What's your pattern-based response?",
                        aiContext: {
                            hrMetrics: "Industry turnover average is 12% annually, your rate indicates 46% annualized",
                            benchmarkData: "Companies with similar patterns typically restructure within 6-9 months",
                            retentionAnalysis: "Salary increases alone show 23% effectiveness vs. 67% for leadership development"
                        },
                        options: [
                            { text: "Implement immediate salary increases across high performers", type: "reactive", score: 30, bias: "availability_heuristic" },
                            { text: "Conduct comprehensive leadership and culture audit", type: "systematic", score: 85, bias: "none" },
                            { text: "Hire external consultants to assess organizational health", type: "cautious", score: 65, bias: "authority_bias" }
                        ],
                        skills: ["patternRecognition", "systemsThinking", "stakeholderAwareness"]
                    }
                ]
            },
            {
                name: "Strategic Thinking",
                description: "Developing multi-dimensional strategic analysis capabilities...",
                scenarios: [
                    {
                        title: "Market Entry Strategic Framework",
                        text: "Your Fortune 500 company is considering entering the Southeast Asian market. Initial investment: $500M over 3 years. Market size: $12B annually, growing 15% yearly. Three entry strategies are proposed: joint venture with local partner (60% probability of success), full acquisition of regional leader ($800M, 40% success), or organic expansion (30% success, full control). The board wants your strategic recommendation.",
                        aiContext: {
                            marketAnalysis: "Southeast Asia tech adoption rate: 34% annually, highest globally",
                            competitorLandscape: "2 major US competitors already established, 1 planning entry",
                            regulatoryEnvironment: "Government incentives for foreign tech investment through 2027"
                        },
                        options: [
                            { text: "Recommend joint venture for risk mitigation and local expertise", type: "balanced", score: 80, bias: "none" },
                            { text: "Full acquisition for immediate market presence and scale", type: "aggressive", score: 60, bias: "overconfidence" },
                            { text: "Organic expansion to maintain full control and brand integrity", type: "conservative", score: 45, bias: "control_illusion" }
                        ],
                        skills: ["strategicThinking", "riskAssessment", "systemsThinking"]
                    },
                    {
                        title: "Technology Portfolio Strategy",
                        text: "Your company has 12 different technology initiatives, consuming 40% of R&D budget with mixed results. AI initiative shows 300% ROI potential but needs 60% more investment. Blockchain project has spent $50M with unclear market fit. Legacy system modernization is critical but unglamorous. Board wants strategic portfolio rationalization. What's your approach?",
                        aiContext: {
                            portfolioMetrics: "Current tech ROI: AI (15:1 potential), Blockchain (-2:1 current), Legacy (3:1 proven)",
                            industryBenchmarks: "Companies with focused tech portfolios show 23% higher innovation success",
                            resourceConstraints: "Current budget allows full investment in 3-4 major initiatives maximum"
                        },
                        options: [
                            { text: "Double down on AI, divest blockchain, maintain legacy modernization", type: "strategic", score: 90, bias: "none" },
                            { text: "Maintain all projects with reduced funding to preserve optionality", type: "cautious", score: 35, bias: "loss_aversion" },
                            { text: "Focus on short-term ROI projects, delay strategic initiatives", type: "financial", score: 50, bias: "temporal_discounting" }
                        ],
                        skills: ["strategicThinking", "innovationMindset", "riskAssessment"]
                    }
                ]
            },
            {
                name: "Bias Mastery",
                description: "Identifying and neutralizing cognitive biases in decision-making...",
                scenarios: [
                    {
                        title: "Confirmation Bias Challenge",
                        text: "Your team has developed a new product that tested well with 200 beta users (85% satisfaction). However, a competitor's similar product failed after 6 months despite initial positive feedback. Your marketing team emphasizes the positive beta results and recommends full launch. Your CFO questions the sample size and market readiness. The launch decision affects $50M investment and team morale. What's your bias-aware decision?",
                        aiContext: {
                            statisticalAnalysis: "200 user sample has 7% margin of error for target market of 2M users",
                            competitorPostmortem: "Failed competitor had 91% beta satisfaction but 34% actual adoption",
                            marketReadiness: "Current market penetration for this category: 12% vs. 45% when competitor launched"
                        },
                        options: [
                            { text: "Proceed with launch based on strong beta feedback", type: "optimistic", score: 25, bias: "confirmation_bias" },
                            { text: "Expand beta testing to 1000 users across diverse segments", type: "systematic", score: 85, bias: "none" },
                            { text: "Delay launch until market conditions match competitor's initial environment", type: "cautious", score: 60, bias: "anchoring_bias" }
                        ],
                        skills: ["biasMastery", "riskAssessment", "systemsThinking"]
                    },
                    {
                        title: "Sunk Cost Fallacy Scenario",
                        text: "Your company has invested $75M over 3 years in a new manufacturing facility. Construction is 80% complete, but new environmental regulations will require an additional $40M investment and delay opening by 18 months. Alternative: Pivot to automated facility design for $30M additional investment, opening in 12 months with 40% higher efficiency. The project leader emphasizes the substantial investment already made. What's your bias-neutral decision?",
                        aiContext: {
                            economicAnalysis: "Traditional facility: $115M total cost, 15-year payback period",
                            alternativeAnalysis: "Automated facility: $105M total cost, 8-year payback period",
                            opportunityCost: "18-month delay equals $45M in lost revenue based on current projections"
                        },
                        options: [
                            { text: "Complete original facility to honor the substantial investment made", type: "committed", score: 20, bias: "sunk_cost_fallacy" },
                            { text: "Pivot to automated design for superior long-term economics", type: "rational", score: 90, bias: "none" },
                            { text: "Abandon project entirely and write off investment", type: "conservative", score: 40, bias: "loss_aversion" }
                        ],
                        skills: ["biasMastery", "strategicThinking", "riskAssessment"]
                    }
                ]
            },
            {
                name: "Systems Thinking",
                description: "Mastering interconnected organizational and market dynamics...",
                scenarios: [
                    {
                        title: "Supply Chain Systems Impact",
                        text: "A key supplier (representing 30% of your critical components) is experiencing labor strikes. Alternative suppliers exist but require 6-month qualification process and 20% higher costs. Your production team recommends inventory buildup, sales wants customer communication, finance suggests supplier diversification, and legal advises contract renegotiation. Each decision impacts the others. What's your systems-thinking approach?",
                        aiContext: {
                            systemsAnalysis: "Inventory buildup affects cash flow (-$25M), delays affect customer satisfaction (-15% NPS), supplier diversification affects quality metrics",
                            cascadingEffects: "6-month supply disruption triggers customer contract penalties ($12M) and market share loss",
                            stakeholderImpact: "Employees (overtime costs), customers (delivery delays), investors (margin compression)"
                        },
                        options: [
                            { text: "Focus on immediate inventory buildup to maintain production", type: "reactive", score: 45, bias: "availability_heuristic" },
                            { text: "Implement coordinated multi-stakeholder response plan", type: "systematic", score: 90, bias: "none" },
                            { text: "Negotiate directly with striking workers to resolve quickly", type: "direct", score: 30, bias: "fundamental_attribution_error" }
                        ],
                        skills: ["systemsThinking", "stakeholderAwareness", "strategicThinking"]
                    },
                    {
                        title: "Digital Transformation Ecosystem",
                        text: "Your digital transformation initiative affects every department: IT needs infrastructure investment ($50M), HR requires retraining programs ($15M), Finance wants ROI tracking systems ($8M), Operations demands process redesign, and Marketing seeks customer experience improvements. Each department's timeline and priorities conflict. The CEO wants a unified approach that maximizes system-wide benefits. What's your systems integration strategy?",
                        aiContext: {
                            interdependencies: "IT infrastructure enables HR training platforms, which support Operations efficiency, which improves Marketing customer metrics",
                            sequencing: "Infrastructure first = 18-month timeline, Parallel approach = 12-month timeline with integration risks",
                            systemsBenefits: "Coordinated approach yields 40% higher ROI than department-by-department implementation"
                        },
                        options: [
                            { text: "Sequential implementation starting with IT infrastructure", type: "methodical", score: 70, bias: "planning_fallacy" },
                            { text: "Parallel implementation with integrated governance framework", type: "systematic", score: 85, bias: "none" },
                            { text: "Pilot approach with one department before scaling", type: "cautious", score: 55, bias: "status_quo" }
                        ],
                        skills: ["systemsThinking", "strategicThinking", "stakeholderAwareness"]
                    }
                ]
            },
            {
                name: "Cognitive Mastery",
                description: "Integrating all cognitive capabilities for executive-level decision architecture...",
                scenarios: [
                    {
                        title: "Crisis Leadership Integration",
                        text: "A cybersecurity breach has exposed customer data (2M records), triggered regulatory investigation, and caused stock price to drop 25%. Simultaneously, your largest competitor is attempting acquisition talks, media coverage is intensifying, employees are concerned about job security, and customers are demanding answers. You must integrate pattern recognition (similar breaches), strategic thinking (long-term positioning), bias management (crisis pressure), and systems thinking (stakeholder coordination). What's your integrated cognitive response?",
                        aiContext: {
                            patternAnalysis: "Companies with transparent crisis response recover stock price 60% faster than those who deflect",
                            strategicOptions: "Acquisition during crisis typically undervalues company by 40-60%",
                            systemsImpact: "Employee retention, customer trust, regulatory compliance, investor confidence all interconnected",
                            biasRisks: "Crisis pressure amplifies availability heuristic, confirmation bias, and groupthink tendencies"
                        },
                        options: [
                            { text: "Focus primarily on legal protection and regulatory compliance", type: "defensive", score: 35, bias: "loss_aversion" },
                            { text: "Implement comprehensive stakeholder communication with transparency", type: "transparent", score: 90, bias: "none" },
                            { text: "Use crisis as opportunity to explore strategic alternatives including acquisition", type: "opportunistic", score: 50, bias: "optimism_bias" }
                        ],
                        skills: ["biasMastery", "stakeholderAwareness", "systemsThinking", "ethicalReasoning", "strategicThinking"]
                    },
                    {
                        title: "Strategic Vision Integration",
                        text: "As the incoming COO, you must develop a 5-year strategic vision that integrates market trends (AI adoption, sustainability requirements, remote work evolution), organizational capabilities (current strengths/weaknesses), stakeholder expectations (investors want growth, employees want purpose, customers want value), and competitive dynamics (industry consolidation, new entrants, changing regulations). Your vision will guide $2B in strategic investments and affect 50,000 employees globally. What's your integrated cognitive architecture for this decision?",
                        aiContext: {
                            trendAnalysis: "AI adoption curve suggests 70% market penetration by 2030, sustainability regulations mandatory by 2027",
                            capabilityAssessment: "Current strengths: customer relationships, operational excellence. Gaps: digital capabilities, sustainable practices",
                            stakeholderMapping: "Investor focus: 15% annual growth, Employee priority: career development, Customer demand: integrated solutions",
                            competitiveLandscape: "Industry consolidation creating 3-4 major players, new tech entrants disrupting traditional models"
                        },
                        options: [
                            { text: "Focus on core competency strengthening with incremental innovation", type: "conservative", score: 50, bias: "status_quo" },
                            { text: "Aggressive transformation toward AI and sustainability leadership", type: "transformative", score: 85, bias: "none" },
                            { text: "Balanced approach maintaining current position while exploring new opportunities", type: "balanced", score: 70, bias: "compromise_effect" }
                        ],
                        skills: ["strategicThinking", "systemsThinking", "innovationMindset", "stakeholderAwareness", "patternRecognition"]
                    }
                ]
            }
        ];
        
        // AI Assistant responses based on context
        const aiAssistant = {
            generateResponse: function(query, context) {
                const lowerQuery = query.toLowerCase();
                
                // Market/Financial queries
                if (lowerQuery.includes('market') || lowerQuery.includes('financial') || lowerQuery.includes('revenue')) {
                    return `Based on current market data: ${context.marketMetrics || context.economicAnalysis || 'Market growth rate 15% annually, competitive landscape shifting toward consolidation.'}`;
                }
                
                // Risk assessment queries
                if (lowerQuery.includes('risk') || lowerQuery.includes('probability') || lowerQuery.includes('chance')) {
                    return `Risk analysis shows: ${context.statisticalAnalysis || context.systemsAnalysis || 'Primary risk factors include market timing (35% impact), execution capability (45% impact), and competitive response (20% impact).'}`;
                }
                
                // Competitor queries
                if (lowerQuery.includes('competitor') || lowerQuery.includes('competition')) {
                    return `Competitive intelligence: ${context.competitorAnalysis || context.competitiveLandscape || 'Main competitors pursuing similar strategies, market leader has 40% share, 3-4 major consolidation events expected.'}`;
                }
                
                // Strategy queries
                if (lowerQuery.includes('strategy') || lowerQuery.includes('approach') || lowerQuery.includes('option')) {
                    return `Strategic analysis indicates: ${context.alternativeAnalysis || context.strategicOptions || 'Multi-dimensional approach considering stakeholder impact, resource allocation, and long-term positioning yields optimal outcomes.'}`;
                }
                
                // Timeline queries
                if (lowerQuery.includes('time') || lowerQuery.includes('when') || lowerQuery.includes('schedule')) {
                    return `Timeline considerations: ${context.sequencing || context.cascadingEffects || 'Implementation timeline ranges 6-18 months depending on approach, with parallel execution reducing time but increasing coordination complexity.'}`;
                }
                
                // People/stakeholder queries
                if (lowerQuery.includes('people') || lowerQuery.includes('employee') || lowerQuery.includes('stakeholder')) {
                    return `Stakeholder impact analysis: ${context.stakeholderImpact || context.stakeholderMapping || 'Primary stakeholders show differing priorities: investors focus ROI, employees prioritize stability, customers value service continuity.'}`;
                }
                
                // Default comprehensive response
                return `Executive insight: This scenario involves multiple interconnected factors. Key considerations include ${context.industryData || context.systemsAnalysis || 'market dynamics, organizational capabilities, and stakeholder impacts'}. Recommend systematic analysis of all options before decision.`;
            }
        };
        
        // Initialize training
        function initializeTraining() {
            updateCognitiveSkills();
            loadCurrentScenario();
            updateTimer();
            updateProgress();
        }
        
        // Update cognitive skills display
        function updateCognitiveSkills() {
            const container = document.getElementById('cognitiveSkills');
            container.innerHTML = '';
            
            const skillNames = {
                patternRecognition: 'Pattern Recognition',
                strategicThinking: 'Strategic Thinking', 
                biasMastery: 'Bias Mastery',
                systemsThinking: 'Systems Thinking',
                stakeholderAwareness: 'Stakeholder Awareness',
                riskAssessment: 'Risk Assessment',
                innovationMindset: 'Innovation Mindset',
                ethicalReasoning: 'Ethical Reasoning'
            };
            
            Object.entries(cognitiveSkills).forEach(([skill, level]) => {
                const skillElement = document.createElement('div');
                skillElement.className = 'cognitive-skill';
                skillElement.innerHTML = `
                    <div class="skill-name">${skillNames[skill]}</div>
                    <div class="skill-level">
                        <div class="skill-bar">
                            <div class="skill-fill" style="width: ${level}%"></div>
                        </div>
                        <div class="skill-percentage">${level}%</div>
                    </div>
                `;
                container.appendChild(skillElement);
            });
        }
        
        // Load current scenario
        function loadCurrentScenario() {
            const stage = trainingStages[currentStage];
            const scenarioIndex = currentScenario - (currentStage * 2);
            
            if (scenarioIndex >= stage.scenarios.length) {
                nextStage();
                return;
            }
            
            const scenario = stage.scenarios[scenarioIndex];
            
            document.getElementById('scenarioTitle').textContent = `üïê ${scenario.title}`;
            document.getElementById('scenarioText').textContent = scenario.text;
            
            // Update AI context
            currentAIContext = scenario.aiContext;
            document.getElementById('aiResponse').textContent = "Ready to provide real-time strategic insights and data analysis...";
            
            // Load decision options
            const optionsContainer = document.getElementById('decisionOptions');
            optionsContainer.innerHTML = '';
            
            scenario.options.forEach((option, index) => {
                const optionElement = document.createElement('div');
                optionElement.className = 'decision-option';
                optionElement.textContent = option.text;
                optionElement.onclick = () => selectOption(index);
                optionsContainer.appendChild(optionElement);
            });
            
            updateProgress();
        }
        
        // AI Assistant function
        let currentAIContext = {};
        
        function askAI() {
            const query = document.getElementById('aiQuery').value;
            if (!query.trim()) return;
            
            const response = aiAssistant.generateResponse(query, currentAIContext);
            document.getElementById('aiResponse').textContent = response;
            document.getElementById('aiQuery').value = '';
        }
        
        // Handle Enter key in AI input
        document.addEventListener('DOMContentLoaded', function() {
            document.getElementById('aiQuery').addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    askAI();
                }
            });
        });
        
        // Select decision option
        function selectOption(optionIndex) {
            const stage = trainingStages[currentStage];
            const scenarioIndex = currentScenario - (currentStage * 2);
            const scenario = stage.scenarios[scenarioIndex];
            const selectedOption = scenario.options[optionIndex];
            
            // Clear previous selections
            document.querySelectorAll('.decision-option').forEach(opt => {
                opt.classList.remove('selected', 'correct', 'incorrect');
            });
            
            // Mark selection
            const optionElements = document.querySelectorAll('.decision-option');
            optionElements[optionIndex].classList.add('selected');
            
            // Show feedback after 1 second
            setTimeout(() => {
                scenario.options.forEach((option, index) => {
                    if (option.score >= 80) {
                        optionElements[index].classList.add('correct');
                    } else if (index === optionIndex && option.score < 80) {
                        optionElements[index].classList.add('incorrect');
                    }
                });
                
                // Update score
                totalScore += selectedOption.score;
                document.getElementById('score').textContent = Math.round(totalScore / (currentScenario + 1));
                
                // Update cognitive skills
                scenario.skills.forEach(skill => {
                    cognitiveSkills[skill] = Math.min(100, cognitiveSkills[skill] + (selectedOption.score > 70 ? 8 : 3));
                });
                updateCognitiveSkills();
                
                // Record decision
                decisions.push({
                    stage: currentStage,
                    scenario: currentScenario,
                    choice: optionIndex,
                    type: selectedOption.type,
                    score: selectedOption.score,
                    bias: selectedOption.bias || 'none',
                    skills: scenario.skills
                });
                
                // Show bias if detected
                if (selectedOption.bias && selectedOption.bias !== 'none') {
                    showBiasDetection(selectedOption.bias);
                    biasPatterns.push(selectedOption.bias);
                }
                
                // Enable next button
                document.getElementById('nextScenario').disabled = false;
                
            }, 1500);
        }
        
        // Show bias detection
        function showBiasDetection(biasType) {
            const biasTypes = {
                status_quo: "Status Quo Bias: Preference for maintaining current state over change",
                bandwagon_effect: "Bandwagon Effect: Following others' decisions without independent analysis",
                availability_heuristic: "Availability Heuristic: Overweighting easily recalled recent information",
                overconfidence: "Overconfidence Bias: Overestimating ability to control outcomes",
                control_illusion: "Illusion of Control: Overestimating influence over external factors",
                loss_aversion: "Loss Aversion: Overweighting potential losses vs equivalent gains",
                temporal_discounting: "Temporal Discounting: Overvaluing immediate vs future benefits",
                anchoring_bias: "Anchoring Bias: Over-relying on first piece of information received",
                confirmation_bias: "Confirmation Bias: Seeking information confirming existing beliefs",
                sunk_cost_fallacy: "Sunk Cost Fallacy: Continuing poor decisions due to past investment",
                fundamental_attribution_error: "Attribution Error: Overemphasizing personal factors vs situational",
                planning_fallacy: "Planning Fallacy: Underestimating time, costs and risks of future actions",
                optimism_bias: "Optimism Bias: Overestimating positive outcomes and underestimating risks",
                compromise_effect: "Compromise Effect: Choosing middle options to avoid decision extremes"
            };
            
            const detector = document.getElementById('biasDetector');
            const description = document.getElementById('biasDescription');
            
            description.textContent = biasTypes[biasType] || 'Cognitive bias detected in decision pattern.';
            detector.classList.remove('hidden');
            
            // Hide after 5 seconds
            setTimeout(() => {
                detector.classList.add('hidden');
            }, 5000);
        }
        
        // Next scenario
        function nextScenario() {
            currentScenario++;
            document.getElementById('nextScenario').disabled = true;
            
            // Check if we need to move to next stage
            const stage = trainingStages[currentStage];
            const scenarioIndex = currentScenario - (currentStage * 2);
            
            if (scenarioIndex >= stage.scenarios.length) {
                nextStage();
            } else {
                loadCurrentScenario();
            }
        }
        
        // Next stage
        function nextStage() {
            currentStage++;
            
            if (currentStage >= trainingStages.length) {
                completeTraining();
                return;
            }
            
            // Update stage indicators
            document.getElementById(`stage${currentStage - 1}`).classList.remove('current');
            document.getElementById(`stage${currentStage - 1}`).classList.add('completed');
            document.getElementById(`stage${currentStage}`).classList.add('current');
            
            // Update stage description
            const stage = trainingStages[currentStage];
            document.getElementById('currentStageDescription').textContent = stage.description;
            
            loadCurrentScenario();
        }
        
        // Complete training
        function completeTraining() {
            // Mark all stages complete
            for (let i = 0; i < 5; i++) {
                document.getElementById(`stage${i}`).classList.add('completed');
                document.getElementById(`stage${i}`).classList.remove('current');
            }
            
            document.getElementById('currentStageDescription').textContent = "Cognitive architecture upgrade complete! Generate your Decision DNA report.";
            document.getElementById('progressText').textContent = "Executive Mind Palace: Construction Complete";
            
            // Show results buttons
            document.getElementById('nextScenario').classList.add('hidden');
            document.getElementById('showResults').classList.remove('hidden');
            document.getElementById('saveTraining').classList.remove('hidden');
        }
        
        // Update progress
        function updateProgress() {
            const totalScenarios = trainingStages.reduce((sum, stage) => sum + stage.scenarios.length, 0);
            const progress = (currentScenario / totalScenarios) * 100;
            document.getElementById('progressFill').style.width = progress + '%';
            
            const currentStageName = trainingStages[currentStage]?.name || "Complete";
            document.getElementById('progressText').textContent = `Cognitive Architecture Building: ${currentStageName}`;
        }
        
        // Update timer
        function updateTimer() {
            setInterval(() => {
                const elapsed = Date.now() - startTime;
                const minutes = Math.floor(elapsed / 60000);
                const seconds = Math.floor((elapsed % 60000) / 1000);
                document.getElementById('timer').textContent = 
                    `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            }, 1000);
        }
        
        // Show results
        function showResults() {
            const resultsPanel = document.getElementById('resultsPanel');
            const resultsGrid = document.getElementById('resultsGrid');
            
            const avgScore = Math.round(totalScore / decisions.length);
            const completionTime = document.getElementById('timer').textContent;
            
            resultsGrid.innerHTML = `
                <div class="result-card">
                    <h3>üéØ Executive Decision Score</h3>
                    <div class="big-number">${avgScore}</div>
                    <p>Performance Tier: ${getPerformanceTier(avgScore)}</p>
                    <p>Completion Time: ${completionTime}</p>
                </div>
                <div class="result-card">
                    <h3>üß† Cognitive Skills Matrix</h3>
                    <div class="big-number">${Math.round(Object.values(cognitiveSkills).reduce((a, b) => a + b) / Object.keys(cognitiveSkills).length)}</div>
                    <p>Strongest: ${getStrongestSkill()}</p>
                    <p>Development Area: ${getWeakestSkill()}</p>
                </div>
                <div class="result-card">
                    <h3>‚ö†Ô∏è Bias Resistance Score</h3>
                    <div class="big-number">${Math.max(0, 100 - (biasPatterns.length * 12))}</div>
                    <p>Biases Detected: ${biasPatterns.length}</p>
                    <p>Risk Level: ${getBiasRiskLevel()}</p>
                </div>
                <div class="result-card">
                    <h3>üöÄ Decision Architecture Level</h3>
                    <div class="big-number">${getArchitectureLevel()}</div>
                    <p>${getArchitectureDescription()}</p>
                </div>
                <div class="result-card">
                    <h3>üìä Executive Readiness</h3>
                    <div class="big-number">${getExecutiveReadiness()}%</div>
                    <p>C-Suite Readiness Assessment</p>
                    <p>${getReadinessRecommendation()}</p>
                </div>
                <div class="result-card">
                    <h3>üîÆ 10-Year Leadership Impact</h3>
                    <div style="margin: 15px 0; color: #fbbf24; font-weight: 600;">${getLegacyPrediction()}</div>
                    <p>${getDetailedImpactAnalysis()}</p>
                </div>
            `;
            
            resultsPanel.style.display = 'block';
            document.getElementById('showResults').style.display = 'none';
        }
        
        // Helper functions for results
        function getPerformanceTier(score) {
            if (score >= 90) return "Executive Mastery";
            if (score >= 80) return "Strategic Leadership";
            if (score >= 70) return "Operational Excellence";
            if (score >= 60) return "Management Competency";
            return "Development Focus";
        }
        
        function getStrongestSkill() {
            return Object.entries(cognitiveSkills).reduce((a, b) => cognitiveSkills[a[0]] > cognitiveSkills[b[0]] ? a : b)[0].replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
        }
        
        function getWeakestSkill() {
            return Object.entries(cognitiveSkills).reduce((a, b) => cognitiveSkills[a[0]] < cognitiveSkills[b[0]] ? a : b)[0].replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
        }
        
        function getBiasRiskLevel() {
            if (biasPatterns.length === 0) return "Minimal Risk";
            if (biasPatterns.length <= 2) return "Low Risk";
            if (biasPatterns.length <= 4) return "Moderate Risk";
            return "High Risk";
        }
        
        function getArchitectureLevel() {
            const avgCognitive = Math.round(Object.values(cognitiveSkills).reduce((a, b) => a + b) / Object.keys(cognitiveSkills).length);
            if (avgCognitive >= 85) return "V";
            if (avgCognitive >= 70) return "IV";
            if (avgCognitive >= 55) return "III";
            if (avgCognitive >= 40) return "II";
            return "I";
        }
        
        function getArchitectureDescription() {
            const level = getArchitectureLevel();
            const descriptions = {
                "V": "Quantum Executive - Multi-dimensional cognitive mastery",
                "IV": "Strategic Architect - Advanced systems integration", 
                "III": "Tactical Leader - Solid decision frameworks",
                "II": "Operational Manager - Building cognitive foundations",
                "I": "Emerging Leader - Developing decision architecture"
            };
            return descriptions[level];
        }
        
        function getExecutiveReadiness() {
            const avgScore = Math.round(totalScore / decisions.length);
            const avgCognitive = Math.round(Object.values(cognitiveSkills).reduce((a, b) => a + b) / Object.keys(cognitiveSkills).length);
            const biasScore = Math.max(0, 100 - (biasPatterns.length * 12));
            
            return Math.round((avgScore * 0.4) + (avgCognitive * 0.4) + (biasScore * 0.2));
        }
        
        function getReadinessRecommendation() {
            const readiness = getExecutiveReadiness();
            if (readiness >= 85) return "Ready for C-Suite advancement";
            if (readiness >= 70) return "Strong executive foundation, focus on strategic vision";
            if (readiness >= 55) return "Developing well, emphasize systems thinking";
            return "Build cognitive foundations through targeted development";
        }
        
        function getLegacyPrediction() {
            const readiness = getExecutiveReadiness();
            if (readiness >= 85) return "Transformational Leader";
            if (readiness >= 70) return "Strategic Builder";
            if (readiness >= 55) return "Operational Excellence";
            return "Capability Developer";
        }
        
        function getDetailedImpactAnalysis() {
            const readiness = getExecutiveReadiness();
            if (readiness >= 85) {
                return "Likely to create lasting organizational transformation, influence industry standards, and develop next-generation leaders.";
            } else if (readiness >= 70) {
                return "Will drive consistent growth, build strong teams, and establish sustainable competitive advantages.";
            } else if (readiness >= 55) {
                return "Will improve operational performance, develop efficient processes, and enhance team capabilities.";
            }
            return "Will focus on building foundational skills and developing decision-making expertise through experience.";
        }
        
        // Show save panel
        function showSavePanel() {
            document.getElementById('savePanel').style.display = 'block';
        }
        
        // Save training function
        function saveTraining() {
            const traineeName = document.getElementById('traineeNameInput').value;
            const trainingUrl = document.getElementById('trainingUrlInput').value;
            
            if (!traineeName) {
                alert('Please enter trainee name');
                return;
            }
            
            const avgScore = Math.round(totalScore / decisions.length);
            const avgCognitive = Math.round(Object.values(cognitiveSkills).reduce((a, b) => a + b) / Object.keys(cognitiveSkills).length);
            
            const trainingData = {
                lessonTitle: "Executive Decision Architecture",
                traineeName: traineeName,
                trainingUrl: trainingUrl,
                completionTime: document.getElementById('timer').textContent,
                finalScore: avgScore,
                cognitiveScore: avgCognitive,
                executiveReadiness: getExecutiveReadiness(),
                decisions: decisions,
                biasPatterns: biasPatterns,
                cognitiveSkills: cognitiveSkills,
                architectureLevel: getArchitectureLevel(),
                completedAt: new Date().toISOString(),
                filename: `renaissanse-coo-lesson8-decision-architecture-${traineeName.toLowerCase().replace(/\s+/g, '-')}-${Date.now()}.json`
            };
            
            // Create and download file
            const blob = new Blob([JSON.stringify(trainingData, null, 2)], {type: 'application/json'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = trainingData.filename;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
            
            // Simulate GitHub upload
            setTimeout(() => {
                alert(`‚úÖ Training data saved successfully!\n\nFile: ${trainingData.filename}\nExecutive Readiness: ${getExecutiveReadiness()}%\nArchitecture Level: ${getArchitectureLevel()}\n\nReady for upload to TalentLMS platform via GitHub.`);
            }, 500);
        }
        
        // Download comprehensive report
        function downloadReport() {
            const traineeName = document.getElementById('traineeNameInput').value || 'Executive';
            const avgScore = Math.round(totalScore / decisions.length);
            const avgCognitive = Math.round(Object.values(cognitiveSkills).reduce((a, b) => a + b) / Object.keys(cognitiveSkills).length);
            
            const reportContent = `
EXECUTIVE DECISION ARCHITECTURE - COMPREHENSIVE TRAINING REPORT
Renaissance Solutions COO Development Program
Lesson 8: The Executive Mind Palace Training

================================================================

EXECUTIVE PROFILE
================================================================
Trainee: ${traineeName}
Training Date: ${new Date().toLocaleDateString()}
Completion Time: ${document.getElementById('timer').textContent}
Training Platform URL: ${document.getElementById('trainingUrlInput').value || 'Not specified'}

EXECUTIVE DECISION DNA ANALYSIS
================================================================

Overall Decision Score: ${avgScore}/100
Performance Tier: ${getPerformanceTier(avgScore)}
Executive Readiness: ${getExecutiveReadiness()}%
Decision Architecture Level: ${getArchitectureLevel()} - ${getArchitectureDescription()}

COGNITIVE SKILLS MATRIX (Executive Mind Palace Results)
================================================================
${Object.entries(cognitiveSkills).map(([skill, level]) => {
    const skillName = skill.replace(/([A-Z])/g, ' $1').replace(/^./, str => str.toUpperCase());
    return `${skillName}: ${level}%`;
}).join('\n')}

Average Cognitive Development: ${avgCognitive}%
Strongest Capability: ${getStrongestSkill()}
Development Priority: ${getWeakestSkill()}

BIAS RESISTANCE ASSESSMENT
================================================================
Cognitive Biases Detected: ${biasPatterns.length}
Bias Resistance Score: ${Math.max(0, 100 - (biasPatterns.length * 12))}/100
Risk Level: ${getBiasRiskLevel()}

Identified Bias Patterns:
${biasPatterns.length > 0 ? biasPatterns.map(bias => `‚Ä¢ ${bias.replace(/_/g, ' ').replace(/\b\w/g, l => l.toUpperCase())}`).join('\n') : '‚Ä¢ No significant bias patterns detected'}

TRAINING STAGE PROGRESSION
================================================================
Stage 1 - Pattern Recognition: ‚úì Completed
Stage 2 - Strategic Thinking: ‚úì Completed  
Stage 3 - Bias Mastery: ‚úì Completed
Stage 4 - Systems Thinking: ‚úì Completed
Stage 5 - Cognitive Mastery: ‚úì Completed

Total Scenarios Completed: ${decisions.length}
Total Training Stages: 5/5

DECISION ANALYSIS BY STAGE
================================================================
${trainingStages.map((stage, stageIndex) => `
STAGE ${stageIndex + 1}: ${stage.name.toUpperCase()}
${decisions.filter(d => d.stage === stageIndex).map((decision, i) => {
    const scenario = trainingStages[decision.stage].scenarios[decision.scenario - (decision.stage * 2)];
    return `  Scenario: ${scenario.title}
  Decision Type: ${decision.type}
  Score: ${decision.score}/100
  Bias Detected: ${decision.bias !== 'none' ? decision.bias.replace(/_/g, ' ') : 'None'}
  Skills Developed: ${decision.skills.join(', ')}`;
}).join('\n\n')}
`).join('\n')}

EXECUTIVE DEVELOPMENT RECOMMENDATIONS
================================================================
${getReadinessRecommendation()}

Specific Development Areas:
‚Ä¢ Continue building ${getWeakestSkill()} through targeted scenarios
‚Ä¢ Leverage strength in ${getStrongestSkill()} for leadership opportunities
${biasPatterns.length > 2 ? '‚Ä¢ Focus on bias awareness training and structured decision frameworks' : '‚Ä¢ Maintain current bias resistance through regular self-assessment'}
‚Ä¢ Practice integrated decision-making combining all cognitive dimensions

10-YEAR LEADERSHIP IMPACT PREDICTION
================================================================
Leadership Classification: ${getLegacyPrediction()}
Impact Analysis: ${getDetailedImpactAnalysis()}

Based on demonstrated cognitive architecture and decision patterns, this executive shows:
‚Ä¢ Strategic thinking capability at ${cognitiveSkills.strategicThinking}% development
‚Ä¢ Systems integration skills at ${cognitiveSkills.systemsThinking}% development  
‚Ä¢ Stakeholder awareness at ${cognitiveSkills.stakeholderAwareness}% development
‚Ä¢ Innovation mindset at ${cognitiveSkills.innovationMindset}% development

TRAINING VALIDATION METRICS
================================================================
Scenarios per Cognitive Domain: 2 scenarios √ó 5 stages = 10 total scenarios
Decision Complexity Range: Fortune 500 strategic scenarios
Bias Detection Accuracy: Real-time cognitive pattern analysis
Skills Assessment: Multi-dimensional competency tracking
Executive Readiness: Integrated performance scoring

RENAISSANCE SOLUTIONS CERTIFICATION
================================================================
This executive has completed the revolutionary "Executive Decision Architecture" 
training - the first program in history designed to upgrade HOW executives think,
not just what they know.

Certified Completion of:
‚úì Executive Time Machine training with AI assistant integration
‚úì Executive Mind Palace cognitive skills development  
‚úì Comprehensive bias detection and resistance building
‚úì Systems thinking and stakeholder integration mastery
‚úì Advanced decision architecture construction

Training Designed By: Renaissance Solutions
Program: Revolutionary COO Executive Development
Lesson: 8 - Executive Decision Architecture
Certification Level: ${getArchitectureLevel()} (${getArchitectureDescription()})

================================================================
Report Generated: ${new Date().toLocaleString()}
Renaissance Solutions - Cognitive Architecture Training System
"The first training that upgrades HOW you think"
================================================================
            `;
            
            const blob = new Blob([reportContent], {type: 'text/plain'});
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = `executive-decision-architecture-report-${traineeName.toLowerCase().replace(/\s+/g, '-')}.txt`;
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Initialize when page loads
        document.addEventListener('DOMContentLoaded', initializeTraining);
    </script>
</body>
</html>