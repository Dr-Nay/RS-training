<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RS COO Training - Lesson 5: Adaptive Crisis Leadership Simulation</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #667eea 100%);
            min-height: 100vh;
            animation: gradientShift 30s ease infinite;
            overflow-x: hidden;
        }

        @keyframes gradientShift {
            0%, 100% { background: linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #667eea 100%); }
            25% { background: linear-gradient(135deg, #e74c3c 0%, #c0392b 50%, #a93226 100%); }
            50% { background: linear-gradient(135deg, #f39c12 0%, #e67e22 50%, #d35400 100%); }
            75% { background: linear-gradient(135deg, #27ae60 0%, #2ecc71 50%, #58d68d 100%); }
        }

        .crisis-overlay {
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(231, 76, 60, 0.1);
            pointer-events: none;
            z-index: 1;
            animation: crisisFlash 5s ease-in-out infinite;
        }

        @keyframes crisisFlash {
            0%, 90%, 100% { opacity: 0; }
            95% { opacity: 1; }
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 20px;
            position: relative;
            z-index: 2;
        }

        .header {
            background: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(20px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 30px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            text-align: center;
            border: 2px solid rgba(231, 76, 60, 0.3);
            position: relative;
            overflow: hidden;
        }

        .header::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(231, 76, 60, 0.2), transparent);
            animation: scanLine 4s ease-in-out infinite;
        }

        @keyframes scanLine {
            0% { left: -100%; }
            50% { left: 100%; }
            100% { left: -100%; }
        }

        .logo {
            font-size: 2.8em;
            font-weight: 900;
            background: linear-gradient(45deg, #e74c3c, #f39c12, #27ae60);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            margin-bottom: 15px;
            text-shadow: 0 0 30px rgba(231, 76, 60, 0.5);
            animation: logoGlow 3s ease-in-out infinite;
        }

        @keyframes logoGlow {
            0%, 100% { filter: brightness(1); }
            50% { filter: brightness(1.5); }
        }

        .lesson-title {
            font-size: 2.2em;
            color: #ffffff;
            margin-bottom: 15px;
            text-shadow: 0 0 20px rgba(255, 255, 255, 0.8);
        }

        .subtitle {
            font-size: 1.4em;
            color: #e74c3c;
            font-style: italic;
            margin-bottom: 20px;
            animation: pulse 2s ease-in-out infinite;
        }

        .crisis-alert {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            padding: 15px 30px;
            border-radius: 50px;
            display: inline-block;
            font-weight: 700;
            animation: alertPulse 1.5s ease-in-out infinite;
            box-shadow: 0 10px 30px rgba(231, 76, 60, 0.4);
        }

        @keyframes alertPulse {
            0%, 100% { transform: scale(1); box-shadow: 0 10px 30px rgba(231, 76, 60, 0.4); }
            50% { transform: scale(1.05); box-shadow: 0 15px 40px rgba(231, 76, 60, 0.6); }
        }

        .content-card {
            background: rgba(0, 0, 0, 0.85);
            backdrop-filter: blur(15px);
            border-radius: 20px;
            padding: 30px;
            margin-bottom: 25px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.3);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: white;
            opacity: 0;
            transform: translateY(30px);
            transition: opacity 0.8s ease, transform 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .content-card.visible {
            opacity: 1;
            transform: translateY(0);
        }

        .content-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, #e74c3c, #f39c12, #27ae60, #3498db);
            animation: borderFlow 3s linear infinite;
        }

        @keyframes borderFlow {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .crisis-command-center {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #e74c3c;
            position: relative;
        }

        .command-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 2px solid rgba(231, 76, 60, 0.3);
        }

        .crisis-timer {
            font-size: 2em;
            font-weight: 800;
            color: #e74c3c;
            background: rgba(0, 0, 0, 0.8);
            padding: 10px 20px;
            border-radius: 15px;
            animation: timerBlink 1s ease-in-out infinite;
        }

        @keyframes timerBlink {
            0%, 50% { opacity: 1; }
            51%, 100% { opacity: 0.7; }
        }

        .threat-level {
            display: flex;
            align-items: center;
            background: rgba(231, 76, 60, 0.2);
            padding: 10px 20px;
            border-radius: 15px;
            border: 1px solid #e74c3c;
        }

        .threat-indicator {
            width: 20px;
            height: 20px;
            background: #e74c3c;
            border-radius: 50%;
            margin-right: 10px;
            animation: threatPulse 0.8s ease-in-out infinite;
        }

        @keyframes threatPulse {
            0%, 100% { transform: scale(1); opacity: 1; }
            50% { transform: scale(1.3); opacity: 0.7; }
        }

        .crisis-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .dashboard-panel {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 15px;
            padding: 25px;
            border: 2px solid transparent;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .dashboard-panel.critical {
            border-color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }

        .dashboard-panel.warning {
            border-color: #f39c12;
            background: rgba(243, 156, 18, 0.1);
        }

        .dashboard-panel.stable {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }

        .panel-title {
            font-size: 1.2em;
            font-weight: 700;
            margin-bottom: 15px;
            display: flex;
            align-items: center;
        }

        .panel-icon {
            font-size: 1.5em;
            margin-right: 10px;
        }

        .metric-value {
            font-size: 2.5em;
            font-weight: 800;
            margin: 10px 0;
        }

        .metric-trend {
            font-size: 0.9em;
            display: flex;
            align-items: center;
        }

        .trend-up { color: #e74c3c; }
        .trend-down { color: #27ae60; }
        .trend-stable { color: #f39c12; }

        .ai-advisor {
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid #e74c3c;
            position: relative;
        }

        .ai-avatar {
            width: 60px;
            height: 60px;
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.8em;
            margin-bottom: 15px;
            animation: aiGlow 2s ease-in-out infinite;
        }

        @keyframes aiGlow {
            0%, 100% { box-shadow: 0 0 20px rgba(231, 76, 60, 0.5); }
            50% { box-shadow: 0 0 40px rgba(231, 76, 60, 0.8); }
        }

        .ai-message {
            background: rgba(0, 0, 0, 0.4);
            padding: 20px;
            border-radius: 15px;
            margin-bottom: 15px;
            border-left: 4px solid #e74c3c;
        }

        .crisis-scenario {
            background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            color: white;
            position: relative;
            overflow: hidden;
        }

        .crisis-scenario::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100"><polygon fill="rgba(255,255,255,0.05)" points="50,0 61,35 100,35 69,57 81,91 50,70 19,91 31,57 0,35 39,35"/></svg>');
            background-size: 50px 50px;
            opacity: 0.1;
            animation: backgroundMove 20s linear infinite;
        }

        @keyframes backgroundMove {
            0% { transform: translateX(0) translateY(0); }
            100% { transform: translateX(-50px) translateY(-50px); }
        }

        .decision-matrix {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }

        .decision-option {
            background: rgba(0, 0, 0, 0.7);
            border: 2px solid rgba(255, 255, 255, 0.2);
            border-radius: 15px;
            padding: 25px;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .decision-option:hover {
            border-color: #e74c3c;
            transform: translateY(-5px);
            box-shadow: 0 15px 30px rgba(231, 76, 60, 0.3);
        }

        .decision-option.selected {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.2);
        }

        .decision-option.high-risk {
            border-color: #e74c3c;
        }

        .decision-option.medium-risk {
            border-color: #f39c12;
        }

        .decision-option.low-risk {
            border-color: #27ae60;
        }

        .risk-indicator {
            position: absolute;
            top: 10px;
            right: 10px;
            padding: 5px 10px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
        }

        .risk-high {
            background: rgba(231, 76, 60, 0.8);
            color: white;
        }

        .risk-medium {
            background: rgba(243, 156, 18, 0.8);
            color: white;
        }

        .risk-low {
            background: rgba(39, 174, 96, 0.8);
            color: white;
        }

        .interactive-btn {
            background: linear-gradient(45deg, #e74c3c, #c0392b);
            color: white;
            border: none;
            padding: 18px 35px;
            border-radius: 30px;
            font-size: 1.2em;
            font-weight: 700;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 10px 5px;
            box-shadow: 0 10px 25px rgba(231, 76, 60, 0.3);
            position: relative;
            overflow: hidden;
        }

        .interactive-btn:hover {
            transform: translateY(-3px) scale(1.05);
            box-shadow: 0 15px 35px rgba(231, 76, 60, 0.5);
        }

        .interactive-btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);
            transition: left 0.5s ease;
        }

        .interactive-btn:hover::before {
            left: 100%;
        }

        .stakeholder-emotion-tracker {
            background: rgba(0, 0, 0, 0.6);
            border-radius: 20px;
            padding: 25px;
            margin: 20px 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .emotion-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin-top: 20px;
        }

        .stakeholder-emotion {
            background: rgba(255, 255, 255, 0.05);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            border: 2px solid transparent;
            transition: all 0.3s ease;
        }

        .stakeholder-emotion.angry {
            border-color: #e74c3c;
            background: rgba(231, 76, 60, 0.1);
        }

        .stakeholder-emotion.concerned {
            border-color: #f39c12;
            background: rgba(243, 156, 18, 0.1);
        }

        .stakeholder-emotion.supportive {
            border-color: #27ae60;
            background: rgba(39, 174, 96, 0.1);
        }

        .emotion-avatar {
            font-size: 3em;
            margin-bottom: 10px;
            animation: emotionFloat 3s ease-in-out infinite;
        }

        @keyframes emotionFloat {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-10px); }
        }

        .emotion-meter {
            width: 100%;
            height: 8px;
            background: rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }

        .emotion-fill {
            height: 100%;
            border-radius: 4px;
            transition: width 0.5s ease;
        }

        .trust-fill { background: linear-gradient(90deg, #27ae60, #2ecc71); }
        .stress-fill { background: linear-gradient(90deg, #e74c3c, #ec7063); }
        .confidence-fill { background: linear-gradient(90deg, #3498db, #5dade2); }

        .outcome-predictor {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            border-radius: 20px;
            padding: 30px;
            margin: 20px 0;
            border: 2px solid #3498db;
        }

        .prediction-chart {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .prediction-metric {
            text-align: center;
            padding: 20px;
            background: rgba(0, 0, 0, 0.4);
            border-radius: 15px;
            border: 1px solid rgba(52, 152, 219, 0.3);
        }

        .prediction-value {
            font-size: 2em;
            font-weight: 800;
            color: #3498db;
            margin-bottom: 10px;
        }

        .prediction-label {
            font-size: 0.9em;
            color: #bdc3c7;
        }

        .progress-indicator {
            background: rgba(0, 0, 0, 0.8);
            border-radius: 15px;
            padding: 20px;
            margin: 20px 0;
            border: 2px solid rgba(255, 255, 255, 0.1);
        }

        .progress-bar {
            background: rgba(255, 255, 255, 0.2);
            border-radius: 25px;
            height: 25px;
            margin: 15px 0;
            overflow: hidden;
            position: relative;
        }

        .progress-fill {
            background: linear-gradient(45deg, #e74c3c, #f39c12);
            height: 100%;
            width: 0%;
            border-radius: 25px;
            transition: width 0.8s ease;
            position: relative;
            overflow: hidden;
        }

        .progress-fill::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.3), transparent);
            animation: progressShine 2s ease-in-out infinite;
        }

        @keyframes progressShine {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }

        .modal {
            display: none;
            position: fixed;
            z-index: 10000;
            left: 0;
            top: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.9);
            backdrop-filter: blur(10px);
        }

        .modal-content {
            background: linear-gradient(135deg, #2c3e50 0%, #34495e 100%);
            margin: 3% auto;
            padding: 40px;
            border-radius: 20px;
            width: 90%;
            max-width: 900px;
            max-height: 85vh;
            overflow-y: auto;
            box-shadow: 0 30px 80px rgba(0, 0, 0, 0.5);
            position: relative;
            border: 2px solid #e74c3c;
            color: white;
        }

        .close {
            color: #e74c3c;
            float: right;
            font-size: 35px;
            font-weight: bold;
            cursor: pointer;
            transition: color 0.3s ease;
            position: absolute;
            top: 20px;
            right: 25px;
        }

        .close:hover {
            color: #c0392b;
            transform: scale(1.1);
        }

        #rs-advisor {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background: linear-gradient(135deg, #8e44ad 0%, #9b59b6 100%);
            color: white;
            padding: 25px;
            border-radius: 25px;
            max-width: 400px;
            z-index: 9999;
            box-shadow: 0 20px 50px rgba(142, 68, 173, 0.4);
            border: 2px solid rgba(231, 76, 60, 0.3);
            backdrop-filter: blur(15px);
            display: none;
            animation: advisorSlideIn 0.8s ease-out;
        }

        @keyframes advisorSlideIn {
            from { transform: translateX(100%) translateY(100%); opacity: 0; }
            to { transform: translateX(0) translateY(0); opacity: 1; }
        }

        .advisor-header {
            display: flex;
            align-items: center;
            margin-bottom: 15px;
        }

        .advisor-avatar {
            font-size: 2.5em;
            margin-right: 15px;
            animation: advisorPulse 3s ease-in-out infinite;
        }

        @keyframes advisorPulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.1); }
        }

        .advisor-info h4 {
            font-weight: 800;
            font-size: 1.2em;
            margin-bottom: 5px;
        }

        .advisor-info p {
            font-size: 0.9em;
            opacity: 0.9;
        }

        .advisor-message {
            line-height: 1.5;
            margin-bottom: 15px;
        }

        .advisor-controls {
            text-align: right;
        }

        .advisor-close {
            background: rgba(231, 76, 60, 0.8);
            border: none;
            color: white;
            padding: 8px 15px;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s ease;
            font-weight: 600;
        }

        .advisor-close:hover {
            background: rgba(231, 76, 60, 1);
            transform: scale(1.05);
        }

        /* Responsive Design */
        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .crisis-dashboard {
                grid-template-columns: 1fr;
            }
            
            .decision-matrix {
                grid-template-columns: 1fr;
            }
            
            .emotion-grid {
                grid-template-columns: 1fr;
            }
            
            .prediction-chart {
                grid-template-columns: repeat(2, 1fr);
            }

            #rs-advisor {
                bottom: 15px;
                right: 15px;
                left: 15px;
                max-width: none;
            }

            .lesson-title {
                font-size: 1.8em;
            }

            .logo {
                font-size: 2.2em;
            }
        }
    </style>
</head>
<body>
    <div class="crisis-overlay"></div>
    
    <div class="container">
        <!-- Header Section -->
        <div class="header">
            <div class="logo">RENAISSANCE SOLUTIONS</div>
            <h1 class="lesson-title">COO CRISIS LEADERSHIP SIMULATION</h1>
            <h2>Lesson 5: Adaptive Crisis Leadership</h2>
            <p class="subtitle">Leading CPR Transformation Through Organizational Turbulence</p>
            <span class="crisis-alert">🚨 ACTIVE CRISIS SIMULATION 🚨</span>
        </div>

        <!-- Crisis Command Center -->
        <div class="content-card">
            <div class="crisis-command-center">
                <div class="command-header">
                    <h3 style="color: #e74c3c; font-size: 1.8em;">🎯 CRISIS COMMAND CENTER</h3>
                    <div style="display: flex; gap: 30px; align-items: center;">
                        <div class="crisis-timer" id="crisis-timer">00:45:30</div>
                        <div class="threat-level">
                            <div class="threat-indicator"></div>
                            <span id="threat-level-text">CRITICAL</span>
                        </div>
                    </div>
                </div>

                <div class="crisis-scenario">
                    <h4 style="margin-bottom: 20px; font-size: 1.4em;">🌪️ MULTI-CRISIS SCENARIO: "THE PERFECT STORM"</h4>
                    <p style="font-size: 1.1em; line-height: 1.6; margin-bottom: 20px;">
                        <strong>BREAKING:</strong> Your organization faces simultaneous crises while 60% through CPR transformation:
                    </p>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px; margin: 25px 0;">
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; border-left: 4px solid #e74c3c;">
                            <h5 style="color: #e74c3c; margin-bottom: 10px;">📉 ECONOMIC CRISIS</h5>
                            <p>Market crash triggers 40% revenue drop. Board demands immediate cost cuts threatening transformation budget.</p>
                        </div>
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; border-left: 4px solid #f39c12;">
                            <h5 style="color: #f39c12; margin-bottom: 10px;">🚛 SUPPLY CHAIN COLLAPSE</h5>
                            <p>Key supplier bankruptcy disrupts 70% of operations. Customer orders backing up, reputation at risk.</p>
                        </div>
                        <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; border-left: 4px solid #9b59b6;">
                            <h5 style="color: #9b59b6; margin-bottom: 10px;">👑 EXECUTIVE EXODUS</h5>
                            <p>CFO and VP Sales resign citing "transformation fatigue." Remaining executives questioning CPR continuation.</p>
                        </div>
                    </div>

                    <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin-top: 25px;">
                        <h5 style="color: #ffffff; margin-bottom: 15px;">⚡ YOUR CRISIS LEADERSHIP CHALLENGE:</h5>
                        <p style="font-weight: 600;">Navigate this perfect storm while maintaining CPR transformation momentum. Every decision impacts stakeholder trust, operational stability, and long-term success. The clock is ticking...</p>
                    </div>
                </div>

                <button class="interactive-btn" onclick="initializeCrisisSimulation()">
                    🚀 ACTIVATE CRISIS LEADERSHIP MODE
                </button>
            </div>
        </div>

        <!-- AI-Powered Crisis Dashboard -->
        <div class="content-card">
            <h3 style="color: #3498db; margin-bottom: 25px;">🤖 AI-POWERED CRISIS DASHBOARD</h3>
            
            <div class="crisis-dashboard" id="crisis-dashboard">
                <div class="dashboard-panel critical">
                    <div class="panel-title">
                        <span class="panel-icon">💰</span>
                        Financial Stability
                    </div>
                    <div class="metric-value" style="color: #e74c3c;" id="financial-metric">23%</div>
                    <div class="metric-trend trend-up">📈 Revenue Impact: -40%</div>
                    <div style="margin-top: 10px; font-size: 0.9em;">Cash runway: 4.2 months</div>
                </div>

                <div class="dashboard-panel warning">
                    <div class="panel-title">
                        <span class="panel-icon">🏭</span>
                        Operations Health
                    </div>
                    <div class="metric-value" style="color: #f39c12;" id="operations-metric">47%</div>
                    <div class="metric-trend trend-up">⚠️ Supply disruption: 70%</div>
                    <div style="margin-top: 10px; font-size: 0.9em;">Order fulfillment: 12 days delayed</div>
                </div>

                <div class="dashboard-panel warning">
                    <div class="panel-title">
                        <span class="panel-icon">👥</span>
                        Team Morale
                    </div>
                    <div class="metric-value" style="color: #f39c12;" id="morale-metric">31%</div>
                    <div class="metric-trend trend-up">😰 Anxiety levels: High</div>
                    <div style="margin-top: 10px; font-size: 0.9em;">Executive confidence: 28%</div>
                </div>

                <div class="dashboard-panel critical">
                    <div class="panel-title">
                        <span class="panel-icon">🎯</span>
                        CPR Progress
                    </div>
                    <div class="metric-value" style="color: #e74c3c;" id="cpr-metric">60%</div>
                    <div class="metric-trend trend-down">🔻 Implementation stalled</div>
                    <div style="margin-top: 10px; font-size: 0.9em;">Risk of rollback: 73%</div>
                </div>

                <div class="dashboard-panel stable">
                    <div class="panel-title">
                        <span class="panel-icon">🛡️</span>
                        Brand Reputation
                    </div>
                    <div class="metric-value" style="color: #27ae60;" id="reputation-metric">78%</div>
                    <div class="metric-trend trend-down">📊 Still holding strong</div>
                    <div style="margin-top: 10px; font-size: 0.9em;">Customer loyalty: Stable</div>
                </div>

                <div class="dashboard-panel warning">
                    <div class="panel-title">
                        <span class="panel-icon">⏰</span>
                        Decision Window
                    </div>
                    <div class="metric-value" style="color: #f39c12;" id="time-metric">45m</div>
                    <div class="metric-trend trend-down">⏳ Board meeting imminent</div>
                    <div style="margin-top: 10px; font-size: 0.9em;">Critical decisions required</div>
                </div>
            </div>
        </div>

        <!-- AI Crisis Advisor -->
        <div class="content-card">
            <div class="ai-advisor">
                <div style="display: flex; align-items: center; margin-bottom: 20px;">
                    <div class="ai-avatar">🤖</div>
                    <div>
                        <h4 style="font-size: 1.3em;">ARIA - AI Crisis Advisor</h4>
                        <p style="opacity: 0.9;">Adaptive Real-time Intelligence Assistant</p>
                    </div>
                </div>
                
                <div class="ai-message" id="ai-message">
                    <strong>CRISIS ANALYSIS COMPLETE:</strong> I've identified 3 critical decision paths with varying risk profiles. Your leadership style suggests prioritizing stakeholder trust - this crisis tests that approach. I'm monitoring 47 variables in real-time to provide adaptive guidance.
                </div>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <h5 style="color: #3498db;">🧠 AI Insights</h5>
                        <p style="font-size: 0.9em;">Predictive modeling active</p>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <h5 style="color: #e74c3c;">⚡ Risk Assessment</h5>
                        <p style="font-size: 0.9em;">Dynamic scenario analysis</p>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <h5 style="color: #27ae60;">🎯 Outcome Prediction</h5>
                        <p style="font-size: 0.9em;">6-month impact modeling</p>
                    </div>
                </div>

                <button class="interactive-btn" onclick="getAIRecommendation()">
                    🤖 REQUEST AI STRATEGIC RECOMMENDATION
                </button>
            </div>
        </div>

        <!-- Crisis Decision Matrix -->
        <div class="content-card">
            <h3 style="color: #e74c3c; margin-bottom: 25px;">⚡ CRISIS DECISION MATRIX</h3>
            <p style="margin-bottom: 25px; font-size: 1.1em;">Choose your immediate response strategy. Each decision cascades across all crisis dimensions:</p>

            <div class="decision-matrix" id="decision-matrix">
                <div class="decision-option high-risk" onclick="selectDecision('aggressive-cuts')">
                    <div class="risk-indicator risk-high">HIGH RISK</div>
                    <h4 style="color: #e74c3c; margin-bottom: 15px;">🔥 AGGRESSIVE COST CUTS</h4>
                    <p style="margin-bottom: 15px;">Immediately cut 30% workforce, pause CPR transformation, focus purely on survival.</p>
                    <div style="font-size: 0.9em; color: #bdc3c7;">
                        <strong>Potential Impact:</strong><br>
                        • Immediate cash preservation<br>
                        • Loss of transformation momentum<br>
                        • Severe morale damage<br>
                        • Quick board approval
                    </div>
                </div>

                <div class="decision-option medium-risk" onclick="selectDecision('strategic-pivot')">
                    <div class="risk-indicator risk-medium">MEDIUM RISK</div>
                    <h4 style="color: #f39c12; margin-bottom: 15px;">🎯 STRATEGIC PIVOT</h4>
                    <p style="margin-bottom: 15px;">Accelerate CPR in crisis-resistant areas, temporarily scale back others, negotiate supplier partnerships.</p>
                    <div style="font-size: 0.9em; color: #bdc3c7;">
                        <strong>Potential Impact:</strong><br>
                        • Balanced approach<br>
                        • Maintains core transformation<br>
                        • Requires complex execution<br>
                        • Moderate stakeholder confidence
                    </div>
                </div>

                <div class="decision-option low-risk" onclick="selectDecision('double-down')">
                    <div class="risk-indicator risk-low">LOW RISK</div>
                    <h4 style="color: #27ae60; margin-bottom: 15px;">🚀 DOUBLE DOWN ON CPR</h4>
                    <p style="margin-bottom: 15px;">Accelerate transformation to increase efficiency, use crisis as catalyst for faster adoption.</p>
                    <div style="font-size: 0.9em; color: #bdc3c7;">
                        <strong>Potential Impact:</strong><br>
                        • Long-term competitive advantage<br>
                        • Requires strong leadership<br>
                        • Higher short-term risk<br>
                        • Potential for breakthrough results
                    </div>
                </div>

                <div class="decision-option medium-risk" onclick="selectDecision('stakeholder-alliance')">
                    <div class="risk-indicator risk-medium">MEDIUM RISK</div>
                    <h4 style="color: #9b59b6; margin-bottom: 15px;">🤝 STAKEHOLDER ALLIANCE</h4>
                    <p style="margin-bottom: 15px;">Build emergency coalition with customers, suppliers, and investors to weather crisis together.</p>
                    <div style="font-size: 0.9em; color: #bdc3c7;">
                        <strong>Potential Impact:</strong><br>
                        • Shared risk and resources<br>
                        • Strengthened relationships<br>
                        • Complex negotiations required<br>
                        • Innovation opportunities
                    </div>
                </div>
            </div>

            <div id="decision-feedback" style="display: none; margin-top: 30px; padding: 25px; background: rgba(0,0,0,0.6); border-radius: 15px; border-left: 4px solid #3498db;">
                <!-- Decision feedback will be populated here -->
            </div>
        </div>

        <!-- Real-Time Stakeholder Emotion Tracker -->
        <div class="content-card">
            <div class="stakeholder-emotion-tracker">
                <h3 style="color: #f39c12; margin-bottom: 25px;">😤 REAL-TIME STAKEHOLDER EMOTION TRACKER</h3>
                <p style="margin-bottom: 20px;">Monitor emotional states of key stakeholders. Their reactions influence your next available options:</p>

                <div class="emotion-grid">
                    <div class="stakeholder-emotion angry" id="board-emotion">
                        <div class="emotion-avatar">👔</div>
                        <h4>Board of Directors</h4>
                        <div style="margin: 10px 0;">
                            <div style="font-size: 0.9em; margin-bottom: 5px;">Trust Level</div>
                            <div class="emotion-meter">
                                <div class="emotion-fill trust-fill" style="width: 25%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 0.9em; color: #e74c3c;">😠 Demanding immediate action</div>
                    </div>

                    <div class="stakeholder-emotion concerned" id="employees-emotion">
                        <div class="emotion-avatar">👥</div>
                        <h4>Employee Base</h4>
                        <div style="margin: 10px 0;">
                            <div style="font-size: 0.9em; margin-bottom: 5px;">Stress Level</div>
                            <div class="emotion-meter">
                                <div class="emotion-fill stress-fill" style="width: 78%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 0.9em; color: #f39c12;">😰 High anxiety about job security</div>
                    </div>

                    <div class="stakeholder-emotion concerned" id="customers-emotion">
                        <div class="emotion-avatar">🛒</div>
                        <h4>Key Customers</h4>
                        <div style="margin: 10px 0;">
                            <div style="font-size: 0.9em; margin-bottom: 5px;">Confidence Level</div>
                            <div class="emotion-meter">
                                <div class="emotion-fill confidence-fill" style="width: 42%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 0.9em; color: #f39c12;">🤔 Questioning delivery capability</div>
                    </div>

                    <div class="stakeholder-emotion supportive" id="transformation-team-emotion">
                        <div class="emotion-avatar">🎯</div>
                        <h4>CPR Team</h4>
                        <div style="margin: 10px 0;">
                            <div style="font-size: 0.9em; margin-bottom: 5px;">Commitment Level</div>
                            <div class="emotion-meter">
                                <div class="emotion-fill trust-fill" style="width: 85%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 0.9em; color: #27ae60;">💪 Ready to prove transformation value</div>
                    </div>

                    <div class="stakeholder-emotion angry" id="suppliers-emotion">
                        <div class="emotion-avatar">🚛</div>
                        <h4>Supplier Network</h4>
                        <div style="margin: 10px 0;">
                            <div style="font-size: 0.9em; margin-bottom: 5px;">Trust Level</div>
                            <div class="emotion-meter">
                                <div class="emotion-fill trust-fill" style="width: 15%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 0.9em; color: #e74c3c;">😡 Demanding payment guarantees</div>
                    </div>

                    <div class="stakeholder-emotion concerned" id="media-emotion">
                        <div class="emotion-avatar">📺</div>
                        <h4>Media & Analysts</h4>
                        <div style="margin: 10px 0;">
                            <div style="font-size: 0.9em; margin-bottom: 5px;">Sentiment</div>
                            <div class="emotion-meter">
                                <div class="emotion-fill confidence-fill" style="width: 35%;"></div>
                            </div>
                        </div>
                        <div style="font-size: 0.9em; color: #f39c12;">📊 Watching for leadership response</div>
                    </div>
                </div>

                <button class="interactive-btn" onclick="analyzeStakeholderEmotions()">
                    📊 ANALYZE STAKEHOLDER DYNAMICS
                </button>
            </div>
        </div>

        <!-- AI Outcome Predictor -->
        <div class="content-card">
            <div class="outcome-predictor">
                <h3 style="color: #3498db; margin-bottom: 25px;">🔮 AI OUTCOME PREDICTOR</h3>
                <p style="margin-bottom: 20px;">Based on current crisis parameters and your leadership decisions, here are the predicted 6-month outcomes:</p>

                <div class="prediction-chart" id="prediction-chart">
                    <div class="prediction-metric">
                        <div class="prediction-value" id="survival-prediction">73%</div>
                        <div class="prediction-label">Organization Survival</div>
                    </div>
                    <div class="prediction-metric">
                        <div class="prediction-value" id="cpr-success-prediction">45%</div>
                        <div class="prediction-label">CPR Success Rate</div>
                    </div>
                    <div class="prediction-metric">
                        <div class="prediction-value" id="market-position-prediction">62%</div>
                        <div class="prediction-label">Market Position</div>
                    </div>
                    <div class="prediction-metric">
                        <div class="prediction-value" id="team-retention-prediction">38%</div>
                        <div class="prediction-label">Team Retention</div>
                    </div>
                    <div class="prediction-metric">
                        <div class="prediction-value" id="financial-recovery-prediction">67%</div>
                        <div class="prediction-label">Financial Recovery</div>
                    </div>
                    <div class="prediction-metric">
                        <div class="prediction-value" id="innovation-capability-prediction">54%</div>
                        <div class="prediction-label">Innovation Capability</div>
                    </div>
                </div>

                <div style="background: rgba(0,0,0,0.4); padding: 20px; border-radius: 15px; margin: 25px 0; border-left: 4px solid #3498db;">
                    <h4 style="color: #3498db; margin-bottom: 15px;">🎯 AI RECOMMENDATION ENGINE</h4>
                    <p id="ai-recommendation">Analyzing decision patterns... Your leadership profile suggests focusing on stakeholder trust and long-term value creation. Current crisis data indicates this approach has 67% success probability under these conditions.</p>
                </div>

                <button class="interactive-btn" onclick="runPredictiveModel()">
                    🔄 UPDATE PREDICTIVE MODEL
                </button>
            </div>
        </div>

        <!-- Crisis Leadership Challenge -->
        <div class="content-card">
            <h3 style="color: #e74c3c; margin-bottom: 25px;">🏆 ULTIMATE CRISIS LEADERSHIP CHALLENGE</h3>
            
            <div style="background: linear-gradient(135deg, #e74c3c 0%, #c0392b 100%); border-radius: 20px; padding: 30px; margin: 20px 0; color: white;">
                <h4>🎯 THE BOARD PRESENTATION CRISIS</h4>
                <p style="margin: 15px 0; font-size: 1.1em;">In 15 minutes, you must present to an emergency board meeting. They're considering:</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <strong>🔴 CEO Replacement</strong><br>
                        <span style="font-size: 0.9em;">Your leadership under question</span>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <strong>🛑 CPR Termination</strong><br>
                        <span style="font-size: 0.9em;">Transformation budget eliminated</span>
                    </div>
                    <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                        <strong>💔 Asset Sale</strong><br>
                        <span style="font-size: 0.9em;">Breaking up the company</span>
                    </div>
                </div>

                <div style="background: rgba(255,255,255,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                    <h5>⚡ YOUR PRESENTATION MUST ADDRESS:</h5>
                    <ul style="margin: 10px 0; line-height: 1.6;">
                        <li>🎯 Crisis response strategy with specific timelines</li>
                        <li>📊 CPR transformation value during crisis</li>
                        <li>💰 Financial stabilization plan</li>
                        <li>👥 Stakeholder confidence restoration</li>
                        <li>🚀 Path to competitive advantage</li>
                    </ul>
                </div>

                <button class="interactive-btn" onclick="startBoardPresentation()" style="background: linear-gradient(45deg, #27ae60, #2ecc71); font-size: 1.3em; padding: 20px 40px;">
                    🎤 ENTER THE BOARDROOM
                </button>
            </div>
        </div>

        <!-- Progress Tracking -->
        <div class="content-card">
            <div class="progress-indicator">
                <h3 style="margin-bottom: 20px;">📈 Crisis Leadership Mastery Progress</h3>
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px;">
                    <div>
                        <div style="margin-bottom: 10px;">Crisis Analysis</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;" id="crisis-analysis-progress"></div>
                        </div>
                    </div>
                    <div>
                        <div style="margin-bottom: 10px;">Decision Making</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;" id="decision-making-progress"></div>
                        </div>
                    </div>
                    <div>
                        <div style="margin-bottom: 10px;">Stakeholder Management</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;" id="stakeholder-progress"></div>
                        </div>
                    </div>
                    <div>
                        <div style="margin-bottom: 10px;">Adaptive Leadership</div>
                        <div class="progress-bar">
                            <div class="progress-fill" style="width: 0%;" id="adaptive-progress"></div>
                        </div>
                    </div>
                </div>
                <div style="text-align: center; margin-top: 20px;">
                    <strong>Overall Crisis Leadership Mastery: <span id="overall-progress">0%</span></strong>
                </div>
            </div>
        </div>
    </div>

    <!-- AI Advisor -->
    <div id="rs-advisor">
        <div class="advisor-header">
            <div class="advisor-avatar">🤖</div>
            <div class="advisor-info">
                <h4>ARIA Crisis Advisor</h4>
                <p>Adaptive Intelligence</p>
            </div>
        </div>
        <div class="advisor-message" id="advisor-message">
            Crisis simulation active. I'm monitoring all variables and will provide real-time guidance based on your decisions.
        </div>
        <div class="advisor-controls">
            <button class="advisor-close" onclick="closeAdvisor()">✕</button>
        </div>
    </div>

    <!-- Board Presentation Modal -->
    <div id="boardModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeBoardModal()">&times;</span>
            <div id="board-presentation-content">
                <!-- Board presentation content will be populated here -->
            </div>
        </div>
    </div>

    <script>
        // Global state variables
        let crisisStartTime = Date.now();
        let selectedDecision = null;
        let boardConfidence = 25;
        let stakeholderTrust = 40;
        let crisisIntensity = 85;
        let progressMetrics = {
            crisisAnalysis: 0,
            decisionMaking: 0,
            stakeholderManagement: 0,
            adaptiveLeadership: 0
        };

        // Crisis timer
        function updateCrisisTimer() {
            const elapsed = Date.now() - crisisStartTime;
            const totalTime = 45 * 60 * 1000; // 45 minutes
            const remaining = Math.max(0, totalTime - elapsed);
            
            const minutes = Math.floor(remaining / 60000);
            const seconds = Math.floor((remaining % 60000) / 1000);
            
            document.getElementById('crisis-timer').textContent = 
                `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            if (remaining > 0) {
                setTimeout(updateCrisisTimer, 1000);
            } else {
                triggerCrisisEscalation();
            }
        }

        // Initialize crisis simulation
        function initializeCrisisSimulation() {
            updateProgressMetric('crisisAnalysis', 25);
            showAdvisor('🚨 Crisis simulation activated! I\'m now monitoring 47 real-time variables. Your first decision sets the tone for everything that follows.');
            
            // Start crisis timer
            crisisStartTime = Date.now();
            updateCrisisTimer();
            
            // Animate dashboard panels
            animateDashboard();
        }

        // Dashboard animation
        function animateDashboard() {
            const panels = document.querySelectorAll('.dashboard-panel');
            panels.forEach((panel, index) => {
                setTimeout(() => {
                    panel.style.transform = 'scale(1.05)';
                    setTimeout(() => {
                        panel.style.transform = 'scale(1)';
                    }, 200);
                }, index * 100);
            });
        }

        // Decision selection
        function selectDecision(decisionType) {
            selectedDecision = decisionType;
            
            // Reset all decision options
            document.querySelectorAll('.decision-option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Mark selected option
            event.currentTarget.classList.add('selected');
            
            // Show decision feedback
            showDecisionFeedback(decisionType);
            updateProgressMetric('decisionMaking', 50);
            
            // Update stakeholder emotions based on decision
            updateStakeholderEmotions(decisionType);
        }

        // Show decision feedback
        function showDecisionFeedback(decisionType) {
            const feedback = {
                'aggressive-cuts': {
                    title: '🔥 AGGRESSIVE COST CUTS SELECTED',
                    content: 'Board approval likely but severe long-term consequences. CPR transformation at risk. Employee trust will plummet. Consider stakeholder communication strategy.',
                    predictions: { survival: 85, cpr: 15, position: 40, retention: 20 }
                },
                'strategic-pivot': {
                    title: '🎯 STRATEGIC PIVOT SELECTED',
                    content: 'Balanced approach with moderate risk. Requires exceptional execution across multiple fronts. CPR momentum partially preserved. Stakeholder confidence cautiously optimistic.',
                    predictions: { survival: 75, cpr: 60, position: 65, retention: 55 }
                },
                'double-down': {
                    title: '🚀 DOUBLING DOWN ON CPR',
                    content: 'High-risk, high-reward strategy. Requires unwavering stakeholder confidence in your leadership. Potential for breakthrough competitive advantage if successful.',
                    predictions: { survival: 65, cpr: 85, position: 80, retention: 70 }
                },
                'stakeholder-alliance': {
                    title: '🤝 STAKEHOLDER ALLIANCE STRATEGY',
                    content: 'Innovative approach requiring complex negotiations. Shared risk and resources could create unprecedented competitive moat. Execution complexity is significant.',
                    predictions: { survival: 70, cpr: 70, position: 75, retention: 65 }
                }
            };

            const selected = feedback[decisionType];
            const feedbackEl = document.getElementById('decision-feedback');
            
            feedbackEl.innerHTML = `
                <h4 style="color: #3498db; margin-bottom: 15px;">${selected.title}</h4>
                <p style="margin-bottom: 20px; font-size: 1.1em;">${selected.content}</p>
                <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px;">
                    <h5 style="margin-bottom: 10px;">📊 Updated Predictions:</h5>
                    <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 10px; font-size: 0.9em;">
                        <div>Survival: ${selected.predictions.survival}%</div>
                        <div>CPR Success: ${selected.predictions.cpr}%</div>
                        <div>Market Position: ${selected.predictions.position}%</div>
                        <div>Team Retention: ${selected.predictions.retention}%</div>
                    </div>
                </div>
            `;
            
            feedbackEl.style.display = 'block';
            
            // Update prediction values
            Object.keys(selected.predictions).forEach(key => {
                const mapping = {
                    survival: 'survival-prediction',
                    cpr: 'cpr-success-prediction',
                    position: 'market-position-prediction',
                    retention: 'team-retention-prediction'
                };
                
                if (mapping[key]) {
                    document.getElementById(mapping[key]).textContent = selected.predictions[key] + '%';
                }
            });
        }

        // Update stakeholder emotions
        function updateStakeholderEmotions(decisionType) {
            const emotionUpdates = {
                'aggressive-cuts': {
                    board: { class: 'supportive', emotion: '😌 Relieved by decisive action', trust: 75 },
                    employees: { class: 'angry', emotion: '😡 Furious about job losses', stress: 95 },
                    customers: { class: 'concerned', emotion: '😬 Worried about service impact', confidence: 30 }
                },
                'strategic-pivot': {
                    board: { class: 'concerned', emotion: '🤔 Cautiously optimistic', trust: 55 },
                    employees: { class: 'concerned', emotion: '😰 Uncertain but hopeful', stress: 60 },
                    customers: { class: 'supportive', emotion: '👍 Appreciates balanced approach', confidence: 65 }
                },
                'double-down': {
                    board: { class: 'angry', emotion: '😠 Questioning your judgment', trust: 20 },
                    employees: { class: 'supportive', emotion: '💪 Inspired by bold leadership', stress: 45 },
                    customers: { class: 'supportive', emotion: '🚀 Excited about innovation', confidence: 80 }
                },
                'stakeholder-alliance': {
                    board: { class: 'concerned', emotion: '🤝 Intrigued by innovation', trust: 50 },
                    employees: { class: 'supportive', emotion: '🌟 Energized by collaboration', stress: 40 },
                    customers: { class: 'supportive', emotion: '💎 Values partnership approach', confidence: 85 }
                }
            };

            const updates = emotionUpdates[decisionType];
            if (!updates) return;

            Object.keys(updates).forEach(stakeholder => {
                const element = document.getElementById(`${stakeholder}-emotion`);
                if (element) {
                    element.className = `stakeholder-emotion ${updates[stakeholder].class}`;
                    const emotionText = element.querySelector('div:last-child');
                    if (emotionText) {
                        emotionText.textContent = updates[stakeholder].emotion;
                    }
                    
                    // Update meter if applicable
                    const meter = element.querySelector('.emotion-fill');
                    if (meter && updates[stakeholder].trust) {
                        meter.style.width = updates[stakeholder].trust + '%';
                    }
                }
            });
            
            updateProgressMetric('stakeholderManagement', 40);
        }

        // AI Recommendation
        function getAIRecommendation() {
            const recommendations = [
                "Based on your leadership profile and current crisis parameters, I recommend the Strategic Pivot approach. Your strength in stakeholder management can navigate the complexity while preserving transformation momentum.",
                "Crisis analysis suggests doubling down on CPR could create unprecedented competitive advantage. Your track record indicates 73% success probability with this high-risk approach.",
                "Stakeholder Alliance strategy aligns with your collaborative leadership style. Current market conditions favor partnership approaches - 68% probability of creating sustainable competitive moat.",
                "Warning: Aggressive cost cuts may provide short-term relief but creates 89% probability of long-term competitive disadvantage. Your transformation investment would be lost."
            ];
            
            const randomRec = recommendations[Math.floor(Math.random() * recommendations.length)];
            document.getElementById('ai-message').innerHTML = `<strong>AI STRATEGIC ANALYSIS:</strong> ${randomRec}`;
            
            updateProgressMetric('adaptiveLeadership', 30);
            showAdvisor('🤖 AI recommendation updated based on your decision patterns and real-time crisis data. Use this insight to refine your strategy.');
        }

        // Stakeholder emotion analysis
        function analyzeStakeholderEmotions() {
            const analysisModal = document.getElementById('boardModal');
            const content = document.getElementById('board-presentation-content');
            
            content.innerHTML = `
                <h3 style="color: #f39c12; margin-bottom: 25px;">📊 STAKEHOLDER EMOTION ANALYSIS REPORT</h3>
                
                <div style="background: rgba(0,0,0,0.3); padding: 20px; border-radius: 15px; margin: 20px 0;">
                    <h4 style="margin-bottom: 15px;">🧠 Psychological Insights</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: 15px;">
                        <div style="background: rgba(231,76,60,0.2); padding: 15px; border-radius: 10px;">
                            <strong>High Stress Indicators</strong><br>
                            <span style="font-size: 0.9em;">Board: Demanding immediate results<br>Employees: Job security fears<br>Suppliers: Payment concerns</span>
                        </div>
                        <div style="background: rgba(243,156,18,0.2); padding: 15px; border-radius: 10px;">
                            <strong>Trust Erosion Patterns</strong><br>
                            <span style="font-size: 0.9em;">Traditional stakeholders losing confidence<br>CPR team maintaining loyalty<br>Customers questioning capability</span>
                        </div>
                        <div style="background: rgba(39,174,96,0.2); padding: 15px; border-radius: 10px;">
                            <strong>Opportunity Windows</strong><br>
                            <span style="font-size: 0.9em;">Transformation team highly motivated<br>Crisis creates urgency for change<br>Innovation appetite increased</span>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(52,152,219,0.2); padding: 20px; border-radius: 15px; margin: 20px 0;">
                    <h4 style="margin-bottom: 15px;">🎯 Strategic Recommendations</h4>
                    <ul style="line-height: 1.6;">
                        <li><strong>Immediate:</strong> Address board concerns with data-driven crisis response plan</li>
                        <li><strong>Short-term:</strong> Communicate job security measures to reduce employee anxiety</li>
                        <li><strong>Medium-term:</strong> Leverage CPR team enthusiasm to accelerate critical initiatives</li>
                        <li><strong>Long-term:</strong> Use crisis as catalyst for deeper organizational transformation</li>
                    </ul>
                </div>
                
                <button class="interactive-btn" onclick="closeBoardModal()" style="margin-top: 20px;">
                    ✅ Apply Insights to Strategy
                </button>
            `;
            
            analysisModal.style.display = 'block';
            updateProgressMetric('stakeholderManagement', 70);
        }

        // Predictive model update
        function runPredictiveModel() {
            // Simulate AI processing
            showAdvisor('🔄 Running advanced predictive algorithms... Analyzing 47 variables across 6-month timeline...');
            
            setTimeout(() => {
                // Update predictions with slight variations
                const predictions = document.querySelectorAll('.prediction-value');
                predictions.forEach(pred => {
                    const current = parseInt(pred.textContent);
                    const variation = (Math.random() - 0.5) * 20; // ±10%
                    const newValue = Math.max(0, Math.min(100, Math.round(current + variation)));
                    pred.textContent = newValue + '%';
                    
                    // Visual feedback
                    pred.style.transform = 'scale(1.2)';
                    setTimeout(() => {
                        pred.style.transform = 'scale(1)';
                    }, 300);
                });
                
                updateProgressMetric('adaptiveLeadership', 60);
                showAdvisor('📊 Predictive model updated! New scenarios incorporate your recent decisions and stakeholder feedback patterns.');
            }, 2000);
        }

        // Board presentation
        function startBoardPresentation() {
            const modal = document.getElementById('boardModal');
            const content = document.getElementById('board-presentation-content');
            
            content.innerHTML = `
                <h3 style="color: #e74c3c; margin-bottom: 25px; text-align: center;">🎤 EMERGENCY BOARD PRESENTATION</h3>
                
                <div style="background: rgba(231,76,60,0.1); padding: 25px; border-radius: 15px; margin: 20px 0; border: 2px solid #e74c3c;">
                    <h4 style="margin-bottom: 20px;">⚡ CRISIS RESPONSE FRAMEWORK</h4>
                    
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px; margin: 20px 0;">
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; text-align: center;">
                            <h5 style="color: #3498db;">IMMEDIATE (0-30 days)</h5>
                            <p style="font-size: 0.9em;">Crisis stabilization<br>Cash flow management<br>Stakeholder communication</p>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; text-align: center;">
                            <h5 style="color: #f39c12;">SHORT-TERM (30-90 days)</h5>
                            <p style="font-size: 0.9em;">CPR acceleration<br>Supply chain rebuild<br>Team stabilization</p>
                        </div>
                        <div style="background: rgba(0,0,0,0.3); padding: 15px; border-radius: 10px; text-align: center;">
                            <h5 style="color: #27ae60;">LONG-TERM (90+ days)</h5>
                            <p style="font-size: 0.9em;">Market leadership<br>Innovation advantage<br>Sustainable growth</p>
                        </div>
                    </div>
                </div>
                
                <div style="background: rgba(39,174,96,0.1); padding: 20px; border-radius: 15px; margin: 20px 0;">
                    <h4 style="margin-bottom: 15px;">🚀 CPR TRANSFORMATION VALUE PROPOSITION</h4>
                    <ul style="line-height: 1.6;">
                        <li><strong>Efficiency Gains:</strong> 35% operational cost reduction through optimized processes</li>
                        <li><strong>Crisis Resilience:</strong> Adaptive systems enable faster response to market changes</li>
                        <li><strong>Competitive Advantage:</strong> First-mover advantage in crisis-resistant business model</li>
                        <li><strong>Stakeholder Value:</strong> Sustainable growth platform vs. short-term cost cutting</li>
                    </ul>
                </div>
                
                <div style="text-align: center; margin: 30px 0;">
                    <h4 style="color: #ffffff; margin-bottom: 20px;">🎯 BOARD DECISION REQUIRED</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 15px;">
                        <button class="interactive-btn" onclick="boardVote('approve')" style="background: linear-gradient(45deg, #27ae60, #2ecc71);">
                            ✅ APPROVE STRATEGY
                        </button>
                        <button class="interactive-btn" onclick="boardVote('conditional')" style="background: linear-gradient(45deg, #f39c12, #e67e22);">
                            ⚠️ CONDITIONAL APPROVAL
                        </button>
                        <button class="interactive-btn" onclick="boardVote('reject')" style="background: linear-gradient(45deg, #e74c3c, #c0392b);">
                            ❌ REJECT & REPLACE
                        </button>
                    </div>
                </div>
            `;
            
            modal.style.display = 'block';
            updateProgressMetric('adaptiveLeadership', 85);
        }

        // Board vote handling
        function boardVote(decision) {
            const outcomes = {
                approve: {
                    title: '🏆 BOARD APPROVAL ACHIEVED!',
                    content: 'Unanimous support for your crisis leadership strategy. Full authority granted to execute CPR transformation acceleration. Stakeholder confidence restored.',
                    color: '#27ae60',
                    progress: 100
                },
                conditional: {
                    title: '⚖️ CONDITIONAL APPROVAL',
                    content: 'Board approves strategy with strict performance milestones. 90-day review required. Additional oversight implemented.',
                    color: '#f39c12',
                    progress: 75
                },
                reject: {
                    title: '💔 STRATEGY REJECTED',
                    content: 'Board lacks confidence in crisis leadership approach. Interim CEO appointed. Transformation program terminated.',
                    color: '#e74c3c',
                    progress: 25
                }
            };
            
            const result = outcomes[decision];
            const content = document.getElementById('board-presentation-content');
            
            content.innerHTML = `
                <div style="text-align: center; padding: 40px;">
                    <h2 style="color: ${result.color}; margin-bottom: 30px; font-size: 2.5em;">${result.title}</h2>
                    <p style="font-size: 1.3em; line-height: 1.6; margin-bottom: 40px;">${result.content}</p>
                    
                    <div style="background: rgba(255,255,255,0.1); padding: 30px; border-radius: 20px; margin: 30px 0;">
                        <h3 style="margin-bottom: 20px;">📊 FINAL CRISIS LEADERSHIP ASSESSMENT</h3>
                        <div style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px; margin: 20px 0;">
                            <div>
                                <strong>Decision Quality:</strong> ${progressMetrics.decisionMaking}%<br>
                                <strong>Crisis Analysis:</strong> ${progressMetrics.crisisAnalysis}%
                            </div>
                            <div>
                                <strong>Stakeholder Management:</strong> ${progressMetrics.stakeholderManagement}%<br>
                                <strong>Adaptive Leadership:</strong> ${progressMetrics.adaptiveLeadership}%
                            </div>
                        </div>
                        <div style="margin-top: 25px;">
                            <strong style="font-size: 1.3em;">Overall Crisis Leadership Mastery: ${Math.round((progressMetrics.decisionMaking + progressMetrics.crisisAnalysis + progressMetrics.stakeholderManagement + progressMetrics.adaptiveLeadership) / 4)}%</strong>
                        </div>
                    </div>
                    
                    ${decision === 'approve' ? `
                        <div style="background: rgba(39,174,96,0.2); padding: 25px; border-radius: 15px; margin: 25px 0;">
                            <h4 style="color: #27ae60;">🎯 CRISIS LEADERSHIP MASTERY ACHIEVED!</h4>
                            <p>You've successfully navigated the perfect storm while maintaining transformation momentum. This level of crisis leadership separates exceptional COOs from the rest.</p>
                        </div>
                    ` : ''}
                    
                    <button class="interactive-btn" onclick="completeCrisisSimulation()" style="font-size: 1.2em; padding: 15px 30px;">
                        🚀 COMPLETE CRISIS SIMULATION
                    </button>
                </div>
            `;
            
            updateProgressMetric('adaptiveLeadership', result.progress);
            updateOverallProgress();
        }

        // Complete crisis simulation
        function completeCrisisSimulation() {
            closeBoardModal();
            showAdvisor('🏆 Crisis simulation complete! You\'ve mastered the most challenging aspect of COO leadership - thriving under extreme pressure while driving transformation.');
            
            // Trigger celebration animation
            celebrateCompletion();
        }

        // Celebration animation
        function celebrateCompletion() {
            // Add celebration effects
            const body = document.body;
            body.style.background = 'linear-gradient(135deg, #27ae60 0%, #2ecc71 50%, #58d68d 100%)';
            
            setTimeout(() => {
                body.style.background = 'linear-gradient(135deg, #1e3c72 0%, #2a5298 50%, #667eea 100%)';
            }, 3000);
        }

        // Progress tracking
        function updateProgressMetric(metric, value) {
            progressMetrics[metric] = Math.max(progressMetrics[metric], value);
            const elementId = metric.replace(/([A-Z])/g, '-$1').toLowerCase() + '-progress';
            const element = document.getElementById(elementId);
            if (element) {
                element.style.width = progressMetrics[metric] + '%';
            }
            updateOverallProgress();
        }

        function updateOverallProgress() {
            const overall = Math.round(
                (progressMetrics.crisisAnalysis + progressMetrics.decisionMaking + 
                 progressMetrics.stakeholderManagement + progressMetrics.adaptiveLeadership) / 4
            );
            document.getElementById('overall-progress').textContent = overall + '%';
        }

        // Advisor functions
        function showAdvisor(message) {
            const advisor = document.getElementById('rs-advisor');
            const messageEl = document.getElementById('advisor-message');
            
            messageEl.textContent = message;
            advisor.style.display = 'block';
            
            setTimeout(() => {
                advisor.style.display = 'none';
            }, 10000);
        }

        function closeAdvisor() {
            document.getElementById('rs-advisor').style.display = 'none';
        }

        // Modal functions
        function closeBoardModal() {
            document.getElementById('boardModal').style.display = 'none';
        }

        // Crisis escalation
        function triggerCrisisEscalation() {
            showAdvisor('⚠️ TIME EXPIRED! Crisis has escalated. Board is making decisions without your input. This demonstrates the critical importance of decisive leadership under pressure.');
        }

        // Initialize page
        document.addEventListener('DOMContentLoaded', function() {
            // Scroll animations
            const observer = new IntersectionObserver((entries) => {
                entries.forEach(entry => {
                    if (entry.isIntersecting) {
                        entry.target.classList.add('visible');
                    }
                });
            }, { threshold: 0.1 });

            document.querySelectorAll('.content-card').forEach(card => {
                observer.observe(card);
            });

            // Welcome message
            setTimeout(() => {
                showAdvisor('🚨 Welcome to the ultimate crisis leadership test! This simulation will push your decision-making abilities to the limit. Remember: In crisis, leadership is everything.');
            }, 2000);
        });

        // Modal click outside to close
        window.onclick = function(event) {
            const modal = document.getElementById('boardModal');
            if (event.target === modal) {
                modal.style.display = 'none';
            }
        }
    </script>
</body>
</html>